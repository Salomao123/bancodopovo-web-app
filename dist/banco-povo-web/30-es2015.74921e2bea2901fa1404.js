(window.webpackJsonp=window.webpackJsonp||[]).push([[30],{"6LHq":function(l,n,e){"use strict";e.r(n);var u=e("8Y7J");class t{}var a=e("pMnS"),o=e("Czxz"),r=e("RXyF"),i=e("SVse"),s=e("uPKQ"),d=e("gd7R"),c=e("3r5P"),p=e("+u/R"),m=e("CK/T"),v=e("ApDb"),g=e("7LN8"),b=e("s7LF"),f=e("FUWh"),h=e("KB/w"),R=e("8QIv"),C=e("fgAq"),y=e("1arm"),O=e("2lSm"),S=e("FUeW"),A=e("J96u"),q=e("33dm"),E=e("5Q26"),j=e("DQLy");const M=Object(j.v)("[Arquivo Remessa] Count",Object(j.B)()),N=Object(j.v)("[Arquivo Remessa] Count Sucesso",Object(j.B)()),k=Object(j.v)("[Arquivo Remessa] Count Erro"),w=Object(j.v)("[Arquivo Remessa] Pesquisar",Object(j.B)()),I=Object(j.v)("[Arquivo Remessa] Pesquisar Sucesso",Object(j.B)()),_=Object(j.v)("[Arquivo Remessa] Pesquisar Erro"),P=Object(j.v)("[Arquivo Remessa] Enviar Arquivo Retorno",Object(j.B)()),T=Object(j.v)("[Arquivo Remessa] Enviar Arquivo Retorno Sucesso",Object(j.B)()),D=Object(j.v)("[Arquivo Remessa] Enviar Arquivo Retorno Erro"),F=Object(j.v)("[Arquivo Remessa] Gerar Arquivo Remessa",Object(j.B)()),L=Object(j.v)("[Arquivo Remessa] Gerar Arquivo Remessa Sucesso"),U=Object(j.v)("[Arquivo Remessa] Gerar Arquivo Remessa Erro");class ${constructor(l){this.store=l,this.fechar=()=>{this.file=void 0,this.form.resetForm(),this.modal.close()}}ngOnInit(){}abrir(){this.modal.open()}selectFile(l){this.file=l.target.files[0]}enviar(){this.store.dispatch(P({file:this.file,afterEnvio:this.fechar}))}}var x=u["\u0275crt"]({encapsulation:0,styles:[[""]],data:{}});function V(l){return u["\u0275vid"](0,[u["\u0275qud"](671088640,1,{modal:0}),u["\u0275qud"](671088640,2,{form:0}),(l()(),u["\u0275eld"](2,0,null,null,21,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngSubmit"],[null,"submit"],[null,"reset"]],(function(l,n,e){var t=!0,a=l.component;return"submit"===n&&(t=!1!==u["\u0275nov"](l,4).onSubmit(e)&&t),"reset"===n&&(t=!1!==u["\u0275nov"](l,4).onReset()&&t),"ngSubmit"===n&&(t=!1!==a.enviar()&&t),t}),null,null)),u["\u0275did"](3,16384,null,0,b["\u0275angular_packages_forms_forms_z"],[],null,null),u["\u0275did"](4,4210688,[[2,4],["arquivoRetornoForm",4]],0,b.NgForm,[[8,null],[8,null]],null,{ngSubmit:"ngSubmit"}),u["\u0275prd"](2048,null,b.ControlContainer,null,[b.NgForm]),u["\u0275did"](6,16384,null,0,b.NgControlStatusGroup,[[4,b.ControlContainer]],null,null),(l()(),u["\u0275eld"](7,0,null,null,16,"app-modal",[["id","modalArquivoRetorno"],["titulo","Enviar Arquivo de Retorno"]],null,[[null,"fechar"]],(function(l,n,e){var u=!0;return"fechar"===n&&(u=!1!==l.component.fechar()&&u),u}),y.b,y.a)),u["\u0275did"](8,114688,[[1,4],["modal",4]],0,O.a,[],{id:[0,"id"],titulo:[1,"titulo"]},{fechar:"fechar"}),(l()(),u["\u0275eld"](9,0,null,0,10,"app-modal-body",[],null,null,null,S.b,S.a)),u["\u0275did"](10,114688,null,0,A.a,[],null,null),(l()(),u["\u0275eld"](11,0,null,0,8,"div",[["class","row"]],null,null,null,null,null)),(l()(),u["\u0275eld"](12,0,null,null,7,"div",[["class","form-group col-xl-12"]],null,null,null,null,null)),(l()(),u["\u0275eld"](13,0,null,null,1,"label",[],null,null,null,null,null)),(l()(),u["\u0275ted"](-1,null,["Selecionar Arquivo para Cadastro:"])),(l()(),u["\u0275eld"](15,0,null,null,4,"div",[["class","input-group"]],null,null,null,null,null)),(l()(),u["\u0275eld"](16,0,null,null,0,"input",[["accept",".zip,.ret"],["class","form-control"],["type","file"]],null,[[null,"change"]],(function(l,n,e){var u=!0;return"change"===n&&(u=!1!==l.component.selectFile(e)&&u),u}),null,null)),(l()(),u["\u0275eld"](17,0,null,null,2,"div",[["class","input-group-append"]],null,null,null,null,null)),(l()(),u["\u0275eld"](18,0,null,null,1,"button",[["class","btn btn-primary"]],null,null,null,null,null)),(l()(),u["\u0275ted"](-1,null,[" Enviar Arquivo "])),(l()(),u["\u0275eld"](20,0,null,0,3,"app-modal-footer",[],null,null,null,q.b,q.a)),u["\u0275did"](21,114688,null,0,E.a,[],null,null),(l()(),u["\u0275eld"](22,0,null,0,1,"button",[["class","btn btn-secondary"],["data-dismiss","modal"],["type","button"]],null,[[null,"click"]],(function(l,n,e){var u=!0;return"click"===n&&(u=!1!==l.component.fechar()&&u),u}),null,null)),(l()(),u["\u0275ted"](-1,null,["Fechar"]))],(function(l,n){l(n,8,0,"modalArquivoRetorno","Enviar Arquivo de Retorno"),l(n,10,0),l(n,21,0)}),(function(l,n){l(n,2,0,u["\u0275nov"](n,6).ngClassUntouched,u["\u0275nov"](n,6).ngClassTouched,u["\u0275nov"](n,6).ngClassPristine,u["\u0275nov"](n,6).ngClassDirty,u["\u0275nov"](n,6).ngClassValid,u["\u0275nov"](n,6).ngClassInvalid,u["\u0275nov"](n,6).ngClassPending)}))}var z=function(l){return l[l.CRIADO=1]="CRIADO",l[l.EM_PROCESSAMENTO=2]="EM_PROCESSAMENTO",l[l.PROCESSADO=3]="PROCESSADO",l[l.ERRO=4]="ERRO",l}({});class B{}var G=e("L6TL"),H=e("YrQK");const Q=Object(j.w)("arquivos-remessa"),J=Object(H.a)(Q),K=Object(H.e)(Q);var W=function(l){return l[l.REMESSA=1]="REMESSA",l[l.RETORNO=2]="RETORNO",l}({}),Z=e("GdzR");class X extends G.a{constructor(l){super(l),this.store=l,this.situacao=z,this.tipo=W,this.pt=Z.a,this.clearTable=()=>{super.resetTable(this.tableArquivos)},this.downloadRemessa=(l,n)=>{const e=new Blob([l],{type:"application/zip"}),u=document.createElement("a");document.body.appendChild(u),u.style="display: none";const t=window.URL.createObjectURL(e);u.href=t,u.download=n+"zip",u.click(),window.URL.revokeObjectURL(t)}}ngOnInit(){this.totalRecords$=this.store.pipe(Object(j.C)(J)),this.records$=this.store.pipe(Object(j.C)(K)),this.limparFiltro()}ngOnDestroy(){this.store.dispatch(N({filter:void 0,count:0,afterCount:this.clearTable}))}limparFiltro(){this.filtro=new B,this.pesquisar()}pesquisar(){this.store.dispatch(M({filter:Object.assign({},this.filtro),afterCount:this.clearTable}))}loadRecords(l){const n=super.pageQuery(l),e=super.sortQuery(l);this.store.dispatch(w({page:n,sort:e}))}gerarRemessa(){this.store.dispatch(F({afterDownload:this.downloadRemessa}))}}var Y=u["\u0275crt"]({encapsulation:0,styles:[[""]],data:{}});function ll(l){return u["\u0275vid"](0,[(l()(),u["\u0275eld"](0,0,null,null,15,"tr",[],null,null,null,null,null)),(l()(),u["\u0275eld"](1,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),u["\u0275ted"](-1,null,["#"])),(l()(),u["\u0275eld"](3,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),u["\u0275ted"](-1,null,["Situa\xe7\xe3o"])),(l()(),u["\u0275eld"](5,0,null,null,4,"th",[["pSortableColumn","ar.nome"]],[[2,"ui-sortable-column",null],[2,"ui-state-highlight",null],[1,"tabindex",0]],[[null,"click"],[null,"keydown.enter"]],(function(l,n,e){var t=!0;return"click"===n&&(t=!1!==u["\u0275nov"](l,6).onClick(e)&&t),"keydown.enter"===n&&(t=!1!==u["\u0275nov"](l,6).onEnterKey(e)&&t),t}),null,null)),u["\u0275did"](6,212992,null,0,o.SortableColumn,[o.Table],{field:[0,"field"]},null),(l()(),u["\u0275ted"](-1,null,["Nome "])),(l()(),u["\u0275eld"](8,0,null,null,1,"p-sortIcon",[["field","ar.nome"]],null,null,null,r.e,r.a)),u["\u0275did"](9,245760,null,0,o.SortIcon,[o.Table],{field:[0,"field"]},null),(l()(),u["\u0275eld"](10,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),u["\u0275ted"](-1,null,["Data de Cadastro"])),(l()(),u["\u0275eld"](12,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),u["\u0275ted"](-1,null,["Data de Processamento"])),(l()(),u["\u0275eld"](14,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),u["\u0275ted"](-1,null,["Tipo"]))],(function(l,n){l(n,6,0,"ar.nome"),l(n,9,0,"ar.nome")}),(function(l,n){l(n,5,0,u["\u0275nov"](n,6).isEnabled(),u["\u0275nov"](n,6).sorted,u["\u0275nov"](n,6).isEnabled()?"0":null)}))}function nl(l){return u["\u0275vid"](0,[(l()(),u["\u0275eld"](0,0,null,null,1,"span",[["class","kt-badge  kt-badge--danger kt-badge--inline kt-badge--pill"]],null,null,null,null,null)),(l()(),u["\u0275ted"](-1,null,["Erro"]))],null,null)}function el(l){return u["\u0275vid"](0,[(l()(),u["\u0275eld"](0,0,null,null,1,"span",[["class","kt-badge  kt-badge--success kt-badge--inline kt-badge--pill"]],null,null,null,null,null)),(l()(),u["\u0275ted"](-1,null,["Processado"]))],null,null)}function ul(l){return u["\u0275vid"](0,[(l()(),u["\u0275eld"](0,0,null,null,1,"span",[["class","kt-badge  kt-badge--warning kt-badge--inline kt-badge--pill"]],null,null,null,null,null)),(l()(),u["\u0275ted"](-1,null,["Criado"]))],null,null)}function tl(l){return u["\u0275vid"](0,[(l()(),u["\u0275eld"](0,0,null,null,1,"span",[["class","kt-badge  kt-badge--dark kt-badge--inline kt-badge--pill"]],null,null,null,null,null)),(l()(),u["\u0275ted"](-1,null,["Em Processamento"]))],null,null)}function al(l){return u["\u0275vid"](0,[(l()(),u["\u0275eld"](0,0,null,null,22,"tr",[],null,null,null,null,null)),(l()(),u["\u0275eld"](1,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),u["\u0275ted"](2,null,["",""])),(l()(),u["\u0275eld"](3,0,null,null,8,"td",[],null,null,null,null,null)),(l()(),u["\u0275and"](16777216,null,null,1,null,nl)),u["\u0275did"](5,16384,null,0,i.NgIf,[u.ViewContainerRef,u.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),u["\u0275and"](16777216,null,null,1,null,el)),u["\u0275did"](7,16384,null,0,i.NgIf,[u.ViewContainerRef,u.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),u["\u0275and"](16777216,null,null,1,null,ul)),u["\u0275did"](9,16384,null,0,i.NgIf,[u.ViewContainerRef,u.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),u["\u0275and"](16777216,null,null,1,null,tl)),u["\u0275did"](11,16384,null,0,i.NgIf,[u.ViewContainerRef,u.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),u["\u0275eld"](12,0,null,null,2,"td",[],null,null,null,null,null)),(l()(),u["\u0275eld"](13,0,null,null,1,"span",[],null,null,null,null,null)),(l()(),u["\u0275ted"](14,null,["",""])),(l()(),u["\u0275eld"](15,0,null,null,2,"td",[],null,null,null,null,null)),(l()(),u["\u0275ted"](16,null,["",""])),u["\u0275ppd"](17,2),(l()(),u["\u0275eld"](18,0,null,null,2,"td",[],null,null,null,null,null)),(l()(),u["\u0275ted"](19,null,["",""])),u["\u0275ppd"](20,2),(l()(),u["\u0275eld"](21,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),u["\u0275ted"](22,null,[" "," "]))],(function(l,n){var e=n.component;l(n,5,0,e.situacao.ERRO===n.context.$implicit.situacao),l(n,7,0,e.situacao.PROCESSADO===n.context.$implicit.situacao),l(n,9,0,e.situacao.CRIADO===n.context.$implicit.situacao),l(n,11,0,e.situacao.EM_PROCESSAMENTO===n.context.$implicit.situacao)}),(function(l,n){var e=n.component;l(n,2,0,n.context.rowIndex+1),l(n,14,0,n.context.$implicit.nome);var t=u["\u0275unv"](n,16,0,l(n,17,0,u["\u0275nov"](n.parent.parent,0),n.context.$implicit.dataCriacao,"dd/MM/yyyy HH:mm:ss"));l(n,16,0,t);var a=u["\u0275unv"](n,19,0,l(n,20,0,u["\u0275nov"](n.parent.parent,0),n.context.$implicit.dataProcessamento,"dd/MM/yyyy HH:mm:ss"));l(n,19,0,a),l(n,22,0,e.tipo.REMESSA===n.context.$implicit.tipo?"Remessa":"Retorno de Remessa")}))}function ol(l){return u["\u0275vid"](0,[(l()(),u["\u0275eld"](0,0,null,null,16,"app-card",[],null,null,null,s.b,s.a)),u["\u0275did"](1,114688,null,0,d.a,[],null,null),(l()(),u["\u0275eld"](2,0,null,0,1,"app-card-header",[["titulo","Resultado da Busca"]],null,null,null,c.b,c.a)),u["\u0275did"](3,114688,null,0,p.a,[],{titulo:[0,"titulo"]},null),(l()(),u["\u0275eld"](4,0,null,0,12,"app-card-body",[],null,null,null,m.b,m.a)),u["\u0275did"](5,114688,null,0,v.a,[],null,null),(l()(),u["\u0275eld"](6,0,null,0,10,"p-table",[["styleClass","table-responsive"],["tableStyleClass","table table-striped table-bordered"]],null,[[null,"onLazyLoad"]],(function(l,n,e){var u=!0;return"onLazyLoad"===n&&(u=!1!==l.component.loadRecords(e)&&u),u}),r.h,r.b)),u["\u0275prd"](512,null,o.TableService,o.TableService,[]),u["\u0275did"](8,5488640,[[1,4],["arquivosTable",4]],1,o.Table,[u.ElementRef,u.NgZone,o.TableService,u.ChangeDetectorRef],{styleClass:[0,"styleClass"],tableStyleClass:[1,"tableStyleClass"],paginator:[2,"paginator"],rowsPerPageOptions:[3,"rowsPerPageOptions"],lazy:[4,"lazy"],value:[5,"value"],rows:[6,"rows"],totalRecords:[7,"totalRecords"]},{onLazyLoad:"onLazyLoad"}),u["\u0275qud"](603979776,4,{templates:1}),u["\u0275pad"](10,3),u["\u0275pid"](131072,i.AsyncPipe,[u.ChangeDetectorRef]),u["\u0275pid"](131072,i.AsyncPipe,[u.ChangeDetectorRef]),(l()(),u["\u0275and"](0,null,null,1,null,ll)),u["\u0275did"](14,16384,[[4,4]],0,g.PrimeTemplate,[u.TemplateRef],{name:[0,"name"]},null),(l()(),u["\u0275and"](0,null,null,1,null,al)),u["\u0275did"](16,16384,[[4,4]],0,g.PrimeTemplate,[u.TemplateRef],{name:[0,"name"]},null)],(function(l,n){var e=n.component;l(n,1,0),l(n,3,0,"Resultado da Busca"),l(n,5,0);var t=l(n,10,0,5,10,15);l(n,8,0,"table-responsive","table table-striped table-bordered",!0,t,!0,u["\u0275unv"](n,8,5,u["\u0275nov"](n,11).transform(e.records$)),5,u["\u0275unv"](n,8,7,u["\u0275nov"](n,12).transform(e.totalRecords$))),l(n,14,0,"header"),l(n,16,0,"body")}),null)}function rl(l){return u["\u0275vid"](0,[u["\u0275pid"](0,i.DatePipe,[u.LOCALE_ID]),u["\u0275qud"](671088640,1,{tableArquivos:0}),(l()(),u["\u0275eld"](2,0,null,null,43,"app-card",[],null,null,null,s.b,s.a)),u["\u0275did"](3,114688,null,0,d.a,[],null,null),(l()(),u["\u0275eld"](4,0,null,0,7,"app-card-header",[["titulo","Pesquisar Arquivos Remessa"]],null,null,null,c.b,c.a)),u["\u0275did"](5,114688,null,0,p.a,[],{titulo:[0,"titulo"]},null),(l()(),u["\u0275eld"](6,0,null,0,2,"button",[["class","btn btn-sm btn-outline-secondary mr-2"]],[[8,"disabled",0]],[[null,"click"]],(function(l,n,e){var u=!0;return"click"===n&&(u=!1!==l.component.gerarRemessa()&&u),u}),null,null)),u["\u0275pid"](131072,i.AsyncPipe,[u.ChangeDetectorRef]),(l()(),u["\u0275ted"](-1,null,["Gerar Remessa"])),(l()(),u["\u0275eld"](9,0,null,0,2,"button",[["class","btn btn-sm btn-outline-primary"]],[[8,"disabled",0]],[[null,"click"]],(function(l,n,e){var t=!0;return"click"===n&&(t=!1!==u["\u0275nov"](l,50).abrir()&&t),t}),null,null)),u["\u0275pid"](131072,i.AsyncPipe,[u.ChangeDetectorRef]),(l()(),u["\u0275ted"](-1,null,["Importar Arquivo Retorno"])),(l()(),u["\u0275eld"](12,0,null,0,33,"form",[["class","kt-form"],["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],(function(l,n,e){var t=!0;return"submit"===n&&(t=!1!==u["\u0275nov"](l,14).onSubmit(e)&&t),"reset"===n&&(t=!1!==u["\u0275nov"](l,14).onReset()&&t),t}),null,null)),u["\u0275did"](13,16384,null,0,b["\u0275angular_packages_forms_forms_z"],[],null,null),u["\u0275did"](14,4210688,null,0,b.NgForm,[[8,null],[8,null]],null,null),u["\u0275prd"](2048,null,b.ControlContainer,null,[b.NgForm]),u["\u0275did"](16,16384,null,0,b.NgControlStatusGroup,[[4,b.ControlContainer]],null,null),(l()(),u["\u0275eld"](17,0,null,null,22,"app-card-body",[],null,null,null,m.b,m.a)),u["\u0275did"](18,114688,null,0,v.a,[],null,null),(l()(),u["\u0275eld"](19,0,null,0,20,"div",[["class","row"]],null,null,null,null,null)),(l()(),u["\u0275eld"](20,0,null,null,9,"div",[["class","form-group col-xl-6"]],null,null,null,null,null)),(l()(),u["\u0275eld"](21,0,null,null,1,"label",[],null,null,null,null,null)),(l()(),u["\u0275ted"](-1,null,["Per\xedodo Inicial:"])),(l()(),u["\u0275eld"](23,0,null,null,6,"p-calendar",[["dateFormat","dd/mm/yy"],["inputStyleClass","form-control"],["monthNavigator","true"],["name","dataCadastro"],["placeholder","Data cadastro"],["styleClass","w-100"],["yearNavigator","true"],["yearRange","1900:2100"]],[[2,"ui-inputwrapper-filled",null],[2,"ui-inputwrapper-focus",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"]],(function(l,n,e){var u=!0;return"ngModelChange"===n&&(u=!1!==(l.component.filtro.periodoInicial=e)&&u),u}),f.b,f.a)),u["\u0275did"](24,1294336,null,1,h.Calendar,[u.ElementRef,u.Renderer2,u.ChangeDetectorRef,u.NgZone],{styleClass:[0,"styleClass"],name:[1,"name"],inputStyleClass:[2,"inputStyleClass"],placeholder:[3,"placeholder"],dateFormat:[4,"dateFormat"],monthNavigator:[5,"monthNavigator"],yearNavigator:[6,"yearNavigator"],yearRange:[7,"yearRange"],locale:[8,"locale"]},null),u["\u0275qud"](603979776,2,{templates:1}),u["\u0275prd"](1024,null,b.NG_VALUE_ACCESSOR,(function(l){return[l]}),[h.Calendar]),u["\u0275did"](27,671744,null,0,b.NgModel,[[2,b.ControlContainer],[8,null],[8,null],[6,b.NG_VALUE_ACCESSOR]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),u["\u0275prd"](2048,null,b.NgControl,null,[b.NgModel]),u["\u0275did"](29,16384,null,0,b.NgControlStatus,[[4,b.NgControl]],null,null),(l()(),u["\u0275eld"](30,0,null,null,9,"div",[["class","form-group col-xl-6"]],null,null,null,null,null)),(l()(),u["\u0275eld"](31,0,null,null,1,"label",[],null,null,null,null,null)),(l()(),u["\u0275ted"](-1,null,["Per\xedodo Final:"])),(l()(),u["\u0275eld"](33,0,null,null,6,"p-calendar",[["dateFormat","dd/mm/yy"],["inputStyleClass","form-control"],["monthNavigator","true"],["name","dataCadastro"],["placeholder","Data cadastro"],["styleClass","w-100"],["yearNavigator","true"],["yearRange","1900:2100"]],[[2,"ui-inputwrapper-filled",null],[2,"ui-inputwrapper-focus",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"]],(function(l,n,e){var u=!0;return"ngModelChange"===n&&(u=!1!==(l.component.filtro.periodoFinal=e)&&u),u}),f.b,f.a)),u["\u0275did"](34,1294336,null,1,h.Calendar,[u.ElementRef,u.Renderer2,u.ChangeDetectorRef,u.NgZone],{styleClass:[0,"styleClass"],name:[1,"name"],inputStyleClass:[2,"inputStyleClass"],placeholder:[3,"placeholder"],dateFormat:[4,"dateFormat"],monthNavigator:[5,"monthNavigator"],yearNavigator:[6,"yearNavigator"],minDate:[7,"minDate"],yearRange:[8,"yearRange"],locale:[9,"locale"]},null),u["\u0275qud"](603979776,3,{templates:1}),u["\u0275prd"](1024,null,b.NG_VALUE_ACCESSOR,(function(l){return[l]}),[h.Calendar]),u["\u0275did"](37,671744,null,0,b.NgModel,[[2,b.ControlContainer],[8,null],[8,null],[6,b.NG_VALUE_ACCESSOR]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),u["\u0275prd"](2048,null,b.NgControl,null,[b.NgModel]),u["\u0275did"](39,16384,null,0,b.NgControlStatus,[[4,b.NgControl]],null,null),(l()(),u["\u0275eld"](40,0,null,null,5,"app-card-footer",[],null,null,null,R.b,R.a)),u["\u0275did"](41,114688,null,0,C.a,[],null,null),(l()(),u["\u0275eld"](42,0,null,0,1,"button",[["class","btn btn-secondary mr-2"],["type","button"]],null,[[null,"click"]],(function(l,n,e){var u=!0;return"click"===n&&(u=!1!==l.component.limparFiltro()&&u),u}),null,null)),(l()(),u["\u0275ted"](-1,null,["Limpar"])),(l()(),u["\u0275eld"](44,0,null,0,1,"button",[["class","btn btn-primary"],["type","button"]],null,[[null,"click"]],(function(l,n,e){var u=!0;return"click"===n&&(u=!1!==l.component.pesquisar()&&u),u}),null,null)),(l()(),u["\u0275ted"](-1,null,["Pesquisar"])),(l()(),u["\u0275and"](16777216,null,null,2,null,ol)),u["\u0275did"](47,16384,null,0,i.NgIf,[u.ViewContainerRef,u.TemplateRef],{ngIf:[0,"ngIf"]},null),u["\u0275pid"](131072,i.AsyncPipe,[u.ChangeDetectorRef]),(l()(),u["\u0275eld"](49,0,null,null,1,"app-arquivo-retorno",[],null,null,null,V,x)),u["\u0275did"](50,114688,[["arquivoRetorno",4]],0,$,[j.o],null,null)],(function(l,n){var e=n.component;l(n,3,0),l(n,5,0,"Pesquisar Arquivos Remessa"),l(n,18,0),l(n,24,0,"w-100","dataCadastro","form-control","Data cadastro","dd/mm/yy","true","true","1900:2100",e.pt),l(n,27,0,"dataCadastro",e.filtro.periodoInicial),l(n,34,0,"w-100","dataCadastro","form-control","Data cadastro","dd/mm/yy","true","true",e.filtro.periodoInicial,"1900:2100",e.pt),l(n,37,0,"dataCadastro",e.filtro.periodoFinal),l(n,41,0),l(n,47,0,u["\u0275unv"](n,47,0,u["\u0275nov"](n,48).transform(e.totalRecords$))),l(n,50,0)}),(function(l,n){var e=n.component;l(n,6,0,!u["\u0275unv"](n,6,0,u["\u0275nov"](n,7).transform(e.permiteFuncionalidadeAcao(e.funcionalidadeEnum.ARQUIVO_REMESSA,e.acaoEnum.IMPORTAR_REMESSA_RETORNO)))),l(n,9,0,!u["\u0275unv"](n,9,0,u["\u0275nov"](n,10).transform(e.permiteFuncionalidadeAcao(e.funcionalidadeEnum.ARQUIVO_REMESSA,e.acaoEnum.IMPORTAR_REMESSA_RETORNO)))),l(n,12,0,u["\u0275nov"](n,16).ngClassUntouched,u["\u0275nov"](n,16).ngClassTouched,u["\u0275nov"](n,16).ngClassPristine,u["\u0275nov"](n,16).ngClassDirty,u["\u0275nov"](n,16).ngClassValid,u["\u0275nov"](n,16).ngClassInvalid,u["\u0275nov"](n,16).ngClassPending),l(n,23,0,u["\u0275nov"](n,24).filled,u["\u0275nov"](n,24).focus,u["\u0275nov"](n,29).ngClassUntouched,u["\u0275nov"](n,29).ngClassTouched,u["\u0275nov"](n,29).ngClassPristine,u["\u0275nov"](n,29).ngClassDirty,u["\u0275nov"](n,29).ngClassValid,u["\u0275nov"](n,29).ngClassInvalid,u["\u0275nov"](n,29).ngClassPending),l(n,33,0,u["\u0275nov"](n,34).filled,u["\u0275nov"](n,34).focus,u["\u0275nov"](n,39).ngClassUntouched,u["\u0275nov"](n,39).ngClassTouched,u["\u0275nov"](n,39).ngClassPristine,u["\u0275nov"](n,39).ngClassDirty,u["\u0275nov"](n,39).ngClassValid,u["\u0275nov"](n,39).ngClassInvalid,u["\u0275nov"](n,39).ngClassPending)}))}function il(l){return u["\u0275vid"](0,[(l()(),u["\u0275eld"](0,0,null,null,1,"app-arquivo-remessa",[],null,null,null,rl,Y)),u["\u0275did"](1,245760,null,0,X,[j.o],null,null)],(function(l,n){l(n,1,0)}),null)}var sl=u["\u0275ccf"]("app-arquivo-remessa",X,il,{},{},[]),dl=e("oTug"),cl=e("Wbmx"),pl=e("iInd");class ml{}var vl=e("VSng"),gl=e("IP0z"),bl=e("/HVE"),fl=e("hOhj"),hl=e("g4HV"),Rl=e("nciF"),Cl=e("mU/a"),yl=e("lXlb");const Ol=Object(yl.a)(),Sl=Object(yl.b)(Ol,{}),Al=Object(j.x)(Sl,Object(j.A)(N,(l,{filter:n,count:e})=>Object.assign({},Sl,{filter:n,count:e})),Object(j.A)(k,l=>Object.assign({},Sl)),Object(j.A)(I,(l,{registros:n,page:e,sort:u})=>Object(yl.c)(Ol,l,e,u,n)),Object(j.A)(T,(l,{arquivoRemessa:n})=>Object(yl.f)(Ol,l,n,!0)));function ql(l,n){return Al(l,n)}Ol.getSelectors();var El=e("dNIX"),jl=e("Yml6"),Ml=e("5+tZ"),Nl=e("lJxs"),kl=e("JIr8"),wl=e("vkgz"),Il=e("LRne");class _l extends El.a{constructor(l,n,e){super(l,n),this.actions$=l,this.store=n,this.arquivoRemessaService=e,this.countArquivoRemessa$=super.baseCreateCount(M,N,k),this.countArquivoRemessaSucesso$=super.baseCreateCountSuccess(N),this.pesquisarArquivoRemessa$=super.baseCreateFind(w,Q,I,_),this.enviarArquivoRetorno$=Object(jl.d)(()=>this.actions$.pipe(Object(jl.e)(P),Object(Ml.a)(l=>l.file?this.arquivoRemessaService.enviarRetorno(l.file).pipe(Object(Nl.a)(n=>(super.addMessageSuccess("Arquivo enviado com sucesso"),T({arquivoRemessa:n,afterEnvio:l.afterEnvio}))),Object(kl.a)(l=>(super.addMessageError(l),Object(Il.a)(D())))):(super.addMessageError({error:{message:"O arquivo \xe9 obrigat\xf3rio"}}),Object(Il.a)(D()))))),this.enviarArquivoRetornoSucesso$=Object(jl.d)(()=>this.actions$.pipe(Object(jl.e)(T),Object(wl.a)(l=>{l.afterEnvio()})),{dispatch:!1}),this.gerarArquivoRemessa$=Object(jl.d)(()=>this.actions$.pipe(Object(jl.e)(F),Object(Ml.a)(l=>this.arquivoRemessaService.gerarRemessa().pipe(Object(Nl.a)(n=>(n.file?l.afterDownload(n.file,n.name):super.addMessageSuccess("N\xe3o \xe9 poss\xedvel baixar este arquivo, pois \xe9 necess\xe1rio ter um empr\xe9stimo ativo"),L())),Object(kl.a)(l=>(super.addMessageError(l),Object(Il.a)(U())))))))}countRegistros(l){return this.arquivoRemessaService.count(l)}findRegistros(l){return this.arquivoRemessaService.pesquisar(l)}saveRegistro(l){throw new Error("Method not implemented.")}updateStatus(l){throw new Error("Method not implemented.")}}var Pl=e("Gndo"),Tl=e("IheW");let Dl=(()=>{class l{constructor(l){this.http=l,this.countUrl=Pl.a.getUrlBackend()+"/api/remessa/count",this.pesquisarUrl=Pl.a.getUrlBackend()+"/api/remessa/pesquisar",this.retornoUrl=Pl.a.getUrlBackend()+"/api/remessa/retorno",this.gerarRemessaUrl=Pl.a.getUrlBackend()+"/api/remessa"}count(l){return this.http.post(this.countUrl,l)}pesquisar(l){return this.http.post(this.pesquisarUrl,l).pipe(Object(wl.a)(l=>l))}enviarRetorno(l){const n=new FormData;return n.append("file",l),this.http.post(this.retornoUrl,n,{headers:{"no-content-type":"true"}}).pipe(Object(wl.a)(l=>l))}gerarRemessa(){return this.http.get(this.gerarRemessaUrl,{observe:"response",responseType:"arraybuffer"}).pipe(Object(Nl.a)(l=>({file:l.body,name:"CNAB_"+(new Date).getTime()})))}}return l.ngInjectableDef=u["\u0275\u0275defineInjectable"]({factory:function(){return new l(u["\u0275\u0275inject"](Tl.c))},token:l,providedIn:"root"}),l})();e.d(n,"ArquivoRemessaModuleNgFactory",(function(){return Fl}));var Fl=u["\u0275cmf"](t,[],(function(l){return u["\u0275mod"]([u["\u0275mpd"](512,u.ComponentFactoryResolver,u["\u0275CodegenComponentFactoryResolver"],[[8,[a.a,sl]],[3,u.ComponentFactoryResolver],u.NgModuleRef]),u["\u0275mpd"](4608,b["\u0275angular_packages_forms_forms_o"],b["\u0275angular_packages_forms_forms_o"],[]),u["\u0275mpd"](4608,i.NgLocalization,i.NgLocaleLocalization,[u.LOCALE_ID,[2,i["\u0275angular_packages_common_common_a"]]]),u["\u0275mpd"](1073742336,b["\u0275angular_packages_forms_forms_d"],b["\u0275angular_packages_forms_forms_d"],[]),u["\u0275mpd"](1073742336,b.FormsModule,b.FormsModule,[]),u["\u0275mpd"](1073742336,i.CommonModule,i.CommonModule,[]),u["\u0275mpd"](1073742336,dl.a,dl.a,[]),u["\u0275mpd"](1073742336,cl.a,cl.a,[]),u["\u0275mpd"](1073742336,pl.n,pl.n,[[2,pl.s],[2,pl.k]]),u["\u0275mpd"](1073742336,ml,ml,[]),u["\u0275mpd"](1073742336,vl.ButtonModule,vl.ButtonModule,[]),u["\u0275mpd"](1073742336,g.SharedModule,g.SharedModule,[]),u["\u0275mpd"](1073742336,h.CalendarModule,h.CalendarModule,[]),u["\u0275mpd"](1073742336,gl.a,gl.a,[]),u["\u0275mpd"](1073742336,bl.b,bl.b,[]),u["\u0275mpd"](1073742336,fl.ScrollingModule,fl.ScrollingModule,[]),u["\u0275mpd"](1073742336,hl.TooltipModule,hl.TooltipModule,[]),u["\u0275mpd"](1073742336,Rl.DropdownModule,Rl.DropdownModule,[]),u["\u0275mpd"](1073742336,Cl.PaginatorModule,Cl.PaginatorModule,[]),u["\u0275mpd"](1073742336,o.TableModule,o.TableModule,[]),u["\u0275mpd"](1024,j.I,(function(){return[{}]}),[]),u["\u0275mpd"](1024,j.k,(function(){return[{key:"arquivos-remessa",reducerFactory:j.t,metaReducers:[],initialState:void 0}]}),[]),u["\u0275mpd"](1024,j.J,j.P,[u.Injector,j.I,j.k]),u["\u0275mpd"](1024,j.H,(function(){return[ql]}),[]),u["\u0275mpd"](1024,j.K,(function(l){return[l]}),[j.H]),u["\u0275mpd"](1024,j.b,(function(l,n,e){return[j.Q(l,n,e)]}),[u.Injector,j.H,j.K]),u["\u0275mpd"](1073873408,j.p,j.p,[j.J,j.b,j.h,j.q]),u["\u0275mpd"](512,_l,_l,[jl.a,j.o,Dl]),u["\u0275mpd"](1024,jl.j,(function(l){return[jl.f(l)]}),[_l]),u["\u0275mpd"](1073742336,jl.h,jl.h,[jl.g,jl.j,[2,j.q],[2,j.p]]),u["\u0275mpd"](1073742336,t,t,[]),u["\u0275mpd"](1024,pl.i,(function(){return[[{path:"",component:X}]]}),[])])}))}}]);