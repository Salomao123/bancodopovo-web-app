(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{DRwZ:function(l,n,e){"use strict";e.d(n,"a",(function(){return s}));var t=e("DQLy"),u=e("8Y7J");const a=function(){var l={EntitiesOnly:0,Both:1,None:2};return l[l.EntitiesOnly]="EntitiesOnly",l[l.Both]="Both",l[l.None]="None",l}();function i(l){return function(n,e){const t={ids:[...e.ids],entities:Object.assign({},e.entities)},u=l(n,t);return u===a.Both?Object.assign({},e,t):u===a.EntitiesOnly?Object.assign({},e,{entities:t.entities}):e}}function o(l,n){const e=n(l);return Object(u.isDevMode)()&&void 0===e&&console.warn("@ngrx/entity: The entity passed to the `selectId` implementation returned undefined.","You should probably provide your own `selectId` implementation.","The entity that was passed:",l,"The `selectId` implementation:",n.toString()),e}function r(l){function n(n,e){const t=o(n,l);return t in e.entities?a.None:(e.ids.push(t),e.entities[t]=n,a.Both)}function e(l,e){let t=!1;for(const u of l)t=n(u,e)!==a.None||t;return t?a.Both:a.None}function t(l,n){const e=(l instanceof Array?l:n.ids.filter(e=>l(n.entities[e]))).filter(l=>l in n.entities).map(l=>delete n.entities[l]).length>0;return e&&(n.ids=n.ids.filter(l=>l in n.entities)),e?a.Both:a.None}function u(n,e){const t={};return(n=n.filter(l=>l.id in e.entities)).length>0?n.filter(n=>(function(n,e,t){const u=Object.assign({},t.entities[e.id],e.changes),a=o(u,l),i=a!==e.id;return i&&(n[e.id]=a,delete t.entities[e.id]),t.entities[a]=u,i})(t,n,e)).length>0?(e.ids=e.ids.map(l=>t[l]||l),a.Both):a.EntitiesOnly:a.None}function r(n,t){const i=[],r=[];for(const e of n){const n=o(e,l);n in t.entities?r.push({id:n,changes:e}):i.push(e)}const s=u(r,t),d=e(i,t);switch(!0){case d===a.None&&s===a.None:return a.None;case d===a.Both||s===a.Both:return a.Both;default:return a.EntitiesOnly}}return{removeAll:function(l){return Object.assign({},l,{ids:[],entities:{}})},addOne:i(n),addMany:i(e),addAll:i((function(l,n){return n.ids=[],n.entities={},e(l,n),a.Both})),updateOne:i((function(l,n){return u([l],n)})),updateMany:i(u),upsertOne:i((function(l,n){return r([l],n)})),upsertMany:i(r),removeOne:i((function(l,n){return t([l],n)})),removeMany:i(t),map:i((function(l,n){return u(n.ids.reduce((e,t)=>{const u=l(n.entities[t]);return u!==n.entities[t]&&e.push({id:t,changes:u}),e},[]).filter(({id:l})=>l in n.entities),n)}))}}function s(l={}){const{selectId:n,sortComparer:e}=Object.assign({sortComparer:!1,selectId:l=>l.id},l),u={getInitialState:function(l={}){return Object.assign({ids:[],entities:{}},l)}},s={getSelectors:function(l){const n=l=>l.ids,e=l=>l.entities,u=Object(t.z)(n,e,(l,n)=>l.map(l=>n[l])),a=Object(t.z)(n,l=>l.length);return l?{selectIds:Object(t.z)(l,n),selectEntities:Object(t.z)(l,e),selectAll:Object(t.z)(l,u),selectTotal:Object(t.z)(l,a)}:{selectIds:n,selectEntities:e,selectAll:u,selectTotal:a}}},d=e?function(l,n){const{removeOne:e,removeMany:t,removeAll:u}=r(l);function s(n,e){const t=n.filter(n=>!(o(n,l)in e.entities));return 0===t.length?a.None:(p(t,e),a.Both)}function d(n,e){const t=[],u=n.filter(n=>(function(n,e,t){if(!(e.id in t.entities))return!1;const u=Object.assign({},t.entities[e.id],e.changes),a=o(u,l);return delete t.entities[e.id],n.push(u),a!==e.id})(t,n,e)).length>0;if(0===t.length)return a.None;{const l=e.ids,n=[];return e.ids=e.ids.filter((l,t)=>l in e.entities||(n.push(t),!1)),p(t,e),!u&&n.every(n=>e.ids[n]===l[n])?a.EntitiesOnly:a.Both}}function c(n,e){const t=[],u=[];for(const a of n){const n=o(a,l);n in e.entities?u.push({id:n,changes:a}):t.push(a)}const i=d(u,e),r=s(t,e);switch(!0){case r===a.None&&i===a.None:return a.None;case r===a.Both||i===a.Both:return a.Both;default:return a.EntitiesOnly}}function p(e,t){e.sort(n);const u=[];let a=0,i=0;for(;a<e.length&&i<t.ids.length;){const r=e[a],s=o(r,l),d=t.ids[i];n(r,t.entities[d])<=0?(u.push(s),a++):(u.push(d),i++)}t.ids=u.concat(a<e.length?e.slice(a).map(l):t.ids.slice(i)),e.forEach((n,e)=>{t.entities[l(n)]=n})}return{removeOne:e,removeMany:t,removeAll:u,addOne:i((function(l,n){return s([l],n)})),updateOne:i((function(l,n){return d([l],n)})),upsertOne:i((function(l,n){return c([l],n)})),addAll:i((function(l,n){return n.entities={},n.ids=[],s(l,n),a.Both})),addMany:i(s),updateMany:i(d),upsertMany:i(c),map:i((function(l,n){return d(n.ids.reduce((e,t)=>{const u=l(n.entities[t]);return u!==n.entities[t]&&e.push({id:t,changes:u}),e},[]),n)}))}}(n,e):r(n);return Object.assign({selectId:n,sortComparer:e},u,s,d)}},"EO/c":function(l,n,e){"use strict";e.r(n);var t=e("8Y7J");class u{}var a=e("pMnS"),i=e("Czxz"),o=e("RXyF"),r=e("SVse"),s=e("uPKQ"),d=e("gd7R"),c=e("3r5P"),p=e("+u/R"),f=e("CK/T"),g=e("ApDb"),v=e("7LN8"),m=e("s7LF"),h=e("FUWh"),b=e("KB/w"),C=e("8QIv"),O=e("fgAq"),A=e("FUeW"),S=e("J96u"),I=e("1arm"),j=e("2lSm"),R=e("33dm"),y=e("5Q26"),N=e("kq33"),V=e("gC8l"),F=e("DQLy");const P=Object(F.v)("[Perfil] Count",Object(F.B)()),T=Object(F.v)("[Perfil] Count Sucesso",Object(F.B)()),_=Object(F.v)("[Perfil] Count Erro"),E=Object(F.v)("[Perfil] Pesquisar",Object(F.B)()),k=Object(F.v)("[Perfil] Pesquisar Sucesso",Object(F.B)()),M=Object(F.v)("[Perfil] Pesquisar Erro"),w=Object(F.v)("[Perfil] Salvar",Object(F.B)()),D=Object(F.v)("[Perfil] Salvar Sucesso",Object(F.B)()),U=Object(F.v)("[Perfil] Atualizar Status",Object(F.B)()),x=Object(F.v)("[Perfil] Atualizar Status Sucesso",Object(F.B)());class z{constructor(l){this.store=l,this.status=V.a,this.fecharModal=()=>{this.form.resetForm(),this.modal.close()}}ngOnInit(){}adicionar(){this.perfil=new N.a,this.perfil.status=this.status.ATIVO,this.modal.open()}editar(l){this.perfil=Object.assign({},l),this.modal.open()}salvar(){this.form.valid&&this.store.dispatch(w({perfil:Object.assign({},this.perfil),afterSave:this.fecharModal}))}}var q=t["\u0275crt"]({encapsulation:0,styles:[[""]],data:{}});function $(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,43,"app-modal-body",[],null,null,null,A.b,A.a)),t["\u0275did"](1,114688,null,0,S.a,[],null,null),(l()(),t["\u0275eld"](2,0,null,0,41,"div",[["class","row"]],null,null,null,null,null)),(l()(),t["\u0275eld"](3,0,null,null,10,"div",[["class","form-group col-xl-6"]],null,null,null,null,null)),(l()(),t["\u0275eld"](4,0,null,null,1,"label",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Nome*:"])),(l()(),t["\u0275eld"](6,0,null,null,7,"input",[["name","nomeNovo"],["placeholder","Nome"],["required",""],["type","text"]],[[8,"className",0],[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(l,n,e){var u=!0,a=l.component;return"input"===n&&(u=!1!==t["\u0275nov"](l,7)._handleInput(e.target.value)&&u),"blur"===n&&(u=!1!==t["\u0275nov"](l,7).onTouched()&&u),"compositionstart"===n&&(u=!1!==t["\u0275nov"](l,7)._compositionStart()&&u),"compositionend"===n&&(u=!1!==t["\u0275nov"](l,7)._compositionEnd(e.target.value)&&u),"ngModelChange"===n&&(u=!1!==(a.perfil.nome=e)&&u),u}),null,null)),t["\u0275did"](7,16384,null,0,m.DefaultValueAccessor,[t.Renderer2,t.ElementRef,[2,m.COMPOSITION_BUFFER_MODE]],null,null),t["\u0275did"](8,16384,null,0,m.RequiredValidator,[],{required:[0,"required"]},null),t["\u0275prd"](1024,null,m.NG_VALIDATORS,(function(l){return[l]}),[m.RequiredValidator]),t["\u0275prd"](1024,null,m.NG_VALUE_ACCESSOR,(function(l){return[l]}),[m.DefaultValueAccessor]),t["\u0275did"](11,671744,[["nomeNovo",4]],0,m.NgModel,[[2,m.ControlContainer],[6,m.NG_VALIDATORS],[8,null],[6,m.NG_VALUE_ACCESSOR]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),t["\u0275prd"](2048,null,m.NgControl,null,[m.NgModel]),t["\u0275did"](13,16384,null,0,m.NgControlStatus,[[4,m.NgControl]],null,null),(l()(),t["\u0275eld"](14,0,null,null,18,"div",[["class","form-group col-xl-6"]],null,null,null,null,null)),(l()(),t["\u0275eld"](15,0,null,null,1,"label",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Status*:"])),(l()(),t["\u0275eld"](17,0,null,null,15,"select",[["name","statusNovo"],["required",""]],[[8,"className",0],[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"blur"]],(function(l,n,e){var u=!0,a=l.component;return"change"===n&&(u=!1!==t["\u0275nov"](l,18).onChange(e.target.value)&&u),"blur"===n&&(u=!1!==t["\u0275nov"](l,18).onTouched()&&u),"ngModelChange"===n&&(u=!1!==(a.perfil.status=e)&&u),u}),null,null)),t["\u0275did"](18,16384,null,0,m.SelectControlValueAccessor,[t.Renderer2,t.ElementRef],null,null),t["\u0275did"](19,16384,null,0,m.RequiredValidator,[],{required:[0,"required"]},null),t["\u0275prd"](1024,null,m.NG_VALIDATORS,(function(l){return[l]}),[m.RequiredValidator]),t["\u0275prd"](1024,null,m.NG_VALUE_ACCESSOR,(function(l){return[l]}),[m.SelectControlValueAccessor]),t["\u0275did"](22,671744,[["statusNovo",4]],0,m.NgModel,[[2,m.ControlContainer],[6,m.NG_VALIDATORS],[8,null],[6,m.NG_VALUE_ACCESSOR]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),t["\u0275prd"](2048,null,m.NgControl,null,[m.NgModel]),t["\u0275did"](24,16384,null,0,m.NgControlStatus,[[4,m.NgControl]],null,null),(l()(),t["\u0275eld"](25,0,null,null,3,"option",[],null,null,null,null,null)),t["\u0275did"](26,147456,null,0,m.NgSelectOption,[t.ElementRef,t.Renderer2,[2,m.SelectControlValueAccessor]],{ngValue:[0,"ngValue"]},null),t["\u0275did"](27,147456,null,0,m["\u0275angular_packages_forms_forms_y"],[t.ElementRef,t.Renderer2,[8,null]],{ngValue:[0,"ngValue"]},null),(l()(),t["\u0275ted"](-1,null,["Ativo"])),(l()(),t["\u0275eld"](29,0,null,null,3,"option",[],null,null,null,null,null)),t["\u0275did"](30,147456,null,0,m.NgSelectOption,[t.ElementRef,t.Renderer2,[2,m.SelectControlValueAccessor]],{ngValue:[0,"ngValue"]},null),t["\u0275did"](31,147456,null,0,m["\u0275angular_packages_forms_forms_y"],[t.ElementRef,t.Renderer2,[8,null]],{ngValue:[0,"ngValue"]},null),(l()(),t["\u0275ted"](-1,null,["Inativo"])),(l()(),t["\u0275eld"](33,0,null,null,10,"div",[["class","form-group col-xl-12"]],null,null,null,null,null)),(l()(),t["\u0275eld"](34,0,null,null,1,"label",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Descri\xe7\xe3o*:"])),(l()(),t["\u0275eld"](36,0,null,null,7,"input",[["name","descricaoNovo"],["placeholder","Descri\xe7\xe3o"],["required",""],["type","text"]],[[8,"className",0],[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(l,n,e){var u=!0,a=l.component;return"input"===n&&(u=!1!==t["\u0275nov"](l,37)._handleInput(e.target.value)&&u),"blur"===n&&(u=!1!==t["\u0275nov"](l,37).onTouched()&&u),"compositionstart"===n&&(u=!1!==t["\u0275nov"](l,37)._compositionStart()&&u),"compositionend"===n&&(u=!1!==t["\u0275nov"](l,37)._compositionEnd(e.target.value)&&u),"ngModelChange"===n&&(u=!1!==(a.perfil.descricao=e)&&u),u}),null,null)),t["\u0275did"](37,16384,null,0,m.DefaultValueAccessor,[t.Renderer2,t.ElementRef,[2,m.COMPOSITION_BUFFER_MODE]],null,null),t["\u0275did"](38,16384,null,0,m.RequiredValidator,[],{required:[0,"required"]},null),t["\u0275prd"](1024,null,m.NG_VALIDATORS,(function(l){return[l]}),[m.RequiredValidator]),t["\u0275prd"](1024,null,m.NG_VALUE_ACCESSOR,(function(l){return[l]}),[m.DefaultValueAccessor]),t["\u0275did"](41,671744,[["descricaoNovo",4]],0,m.NgModel,[[2,m.ControlContainer],[6,m.NG_VALIDATORS],[8,null],[6,m.NG_VALUE_ACCESSOR]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),t["\u0275prd"](2048,null,m.NgControl,null,[m.NgModel]),t["\u0275did"](43,16384,null,0,m.NgControlStatus,[[4,m.NgControl]],null,null)],(function(l,n){var e=n.component;l(n,1,0),l(n,8,0,""),l(n,11,0,"nomeNovo",e.perfil.nome),l(n,19,0,""),l(n,22,0,"statusNovo",e.perfil.status),l(n,26,0,e.status.ATIVO),l(n,27,0,e.status.ATIVO),l(n,30,0,e.status.INATIVO),l(n,31,0,e.status.INATIVO),l(n,38,0,""),l(n,41,0,"descricaoNovo",e.perfil.descricao)}),(function(l,n){l(n,6,0,t["\u0275inlineInterpolate"](1,"form-control ",t["\u0275nov"](n,11).invalid&&t["\u0275nov"](n.parent,4).submitted?"is-invalid":"",""),t["\u0275nov"](n,8).required?"":null,t["\u0275nov"](n,13).ngClassUntouched,t["\u0275nov"](n,13).ngClassTouched,t["\u0275nov"](n,13).ngClassPristine,t["\u0275nov"](n,13).ngClassDirty,t["\u0275nov"](n,13).ngClassValid,t["\u0275nov"](n,13).ngClassInvalid,t["\u0275nov"](n,13).ngClassPending),l(n,17,0,t["\u0275inlineInterpolate"](1,"form-control ",t["\u0275nov"](n,22).invalid&&t["\u0275nov"](n.parent,4).submitted?"is-invalid":"",""),t["\u0275nov"](n,19).required?"":null,t["\u0275nov"](n,24).ngClassUntouched,t["\u0275nov"](n,24).ngClassTouched,t["\u0275nov"](n,24).ngClassPristine,t["\u0275nov"](n,24).ngClassDirty,t["\u0275nov"](n,24).ngClassValid,t["\u0275nov"](n,24).ngClassInvalid,t["\u0275nov"](n,24).ngClassPending),l(n,36,0,t["\u0275inlineInterpolate"](1,"form-control ",t["\u0275nov"](n,41).invalid&&t["\u0275nov"](n.parent,4).submitted?"is-invalid":"",""),t["\u0275nov"](n,38).required?"":null,t["\u0275nov"](n,43).ngClassUntouched,t["\u0275nov"](n,43).ngClassTouched,t["\u0275nov"](n,43).ngClassPristine,t["\u0275nov"](n,43).ngClassDirty,t["\u0275nov"](n,43).ngClassValid,t["\u0275nov"](n,43).ngClassInvalid,t["\u0275nov"](n,43).ngClassPending)}))}function L(l){return t["\u0275vid"](0,[t["\u0275qud"](671088640,1,{modal:0}),t["\u0275qud"](671088640,2,{form:0}),(l()(),t["\u0275eld"](2,0,null,null,14,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngSubmit"],[null,"submit"],[null,"reset"]],(function(l,n,e){var u=!0,a=l.component;return"submit"===n&&(u=!1!==t["\u0275nov"](l,4).onSubmit(e)&&u),"reset"===n&&(u=!1!==t["\u0275nov"](l,4).onReset()&&u),"ngSubmit"===n&&(u=!1!==a.salvar()&&u),u}),null,null)),t["\u0275did"](3,16384,null,0,m["\u0275angular_packages_forms_forms_z"],[],null,null),t["\u0275did"](4,4210688,[[2,4],["perfilNovoForm",4]],0,m.NgForm,[[8,null],[8,null]],null,{ngSubmit:"ngSubmit"}),t["\u0275prd"](2048,null,m.ControlContainer,null,[m.NgForm]),t["\u0275did"](6,16384,null,0,m.NgControlStatusGroup,[[4,m.ControlContainer]],null,null),(l()(),t["\u0275eld"](7,0,null,null,9,"app-modal",[["id","modalAdicionarPerfil"],["sizeClass","modal-lg"],["titulo","Adicionar Perfil"]],null,[[null,"fechar"]],(function(l,n,e){var u=!0;return"fechar"===n&&(u=!1!==t["\u0275nov"](l,4).resetForm()&&u),u}),I.b,I.a)),t["\u0275did"](8,114688,[[1,4],["modal",4]],0,j.a,[],{id:[0,"id"],titulo:[1,"titulo"],sizeClass:[2,"sizeClass"]},{fechar:"fechar"}),(l()(),t["\u0275and"](16777216,null,0,1,null,$)),t["\u0275did"](10,16384,null,0,r.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275eld"](11,0,null,0,5,"app-modal-footer",[],null,null,null,R.b,R.a)),t["\u0275did"](12,114688,null,0,y.a,[],null,null),(l()(),t["\u0275eld"](13,0,null,0,1,"button",[["class","btn btn-secondary"],["data-dismiss","modal"],["type","button"]],null,[[null,"click"]],(function(l,n,e){var u=!0;return"click"===n&&(u=!1!==t["\u0275nov"](l,4).resetForm()&&u),u}),null,null)),(l()(),t["\u0275ted"](-1,null,["Fechar"])),(l()(),t["\u0275eld"](15,0,null,0,1,"button",[["class","btn btn-primary"],["type","submit"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Salvar"]))],(function(l,n){var e=n.component;l(n,8,0,"modalAdicionarPerfil","Adicionar Perfil","modal-lg"),l(n,10,0,e.perfil),l(n,12,0)}),(function(l,n){l(n,2,0,t["\u0275nov"](n,6).ngClassUntouched,t["\u0275nov"](n,6).ngClassTouched,t["\u0275nov"](n,6).ngClassPristine,t["\u0275nov"](n,6).ngClassDirty,t["\u0275nov"](n,6).ngClassValid,t["\u0275nov"](n,6).ngClassInvalid,t["\u0275nov"](n,6).ngClassPending)}))}class B{constructor(l){this.store=l,this.status=V.a,this.fecharModal=()=>{this.modal.close()}}ngOnInit(){}carregar(l){this.perfil=l,this.modal.open()}salvar(){this.store.dispatch(U({id:this.perfil.id,status:this.status.ATIVO===this.perfil.status?this.status.INATIVO:this.status.ATIVO,afterSave:this.fecharModal}))}}var G=t["\u0275crt"]({encapsulation:0,styles:[[""]],data:{}});function H(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"label",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,[" Deseja realmente ativar o registro? "]))],null,null)}function Q(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"label",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,[" Deseja realmente excluir/inativar o registro? "]))],null,null)}function J(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,7,"app-modal-body",[],null,null,null,A.b,A.a)),t["\u0275did"](1,114688,null,0,S.a,[],null,null),(l()(),t["\u0275eld"](2,0,null,0,5,"div",[["class","row"]],null,null,null,null,null)),(l()(),t["\u0275eld"](3,0,null,null,4,"div",[["class","col-xl-12"]],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,H)),t["\u0275did"](5,16384,null,0,r.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,Q)),t["\u0275did"](7,16384,null,0,r.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],(function(l,n){var e=n.component;l(n,1,0),l(n,5,0,e.status.INATIVO===e.perfil.status),l(n,7,0,e.status.ATIVO===e.perfil.status)}),null)}function K(l){return t["\u0275vid"](0,[t["\u0275qud"](671088640,1,{modal:0}),(l()(),t["\u0275eld"](1,0,null,null,14,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngSubmit"],[null,"submit"],[null,"reset"]],(function(l,n,e){var u=!0,a=l.component;return"submit"===n&&(u=!1!==t["\u0275nov"](l,3).onSubmit(e)&&u),"reset"===n&&(u=!1!==t["\u0275nov"](l,3).onReset()&&u),"ngSubmit"===n&&(u=!1!==a.salvar()&&u),u}),null,null)),t["\u0275did"](2,16384,null,0,m["\u0275angular_packages_forms_forms_z"],[],null,null),t["\u0275did"](3,4210688,[["perfilStatusForm",4]],0,m.NgForm,[[8,null],[8,null]],null,{ngSubmit:"ngSubmit"}),t["\u0275prd"](2048,null,m.ControlContainer,null,[m.NgForm]),t["\u0275did"](5,16384,null,0,m.NgControlStatusGroup,[[4,m.ControlContainer]],null,null),(l()(),t["\u0275eld"](6,0,null,null,9,"app-modal",[["id","modalStatusPerfil"]],null,[[null,"fechar"]],(function(l,n,e){var u=!0;return"fechar"===n&&(u=!1!==t["\u0275nov"](l,3).resetForm()&&u),u}),I.b,I.a)),t["\u0275did"](7,114688,[[1,4],["modal",4]],0,j.a,[],{id:[0,"id"],titulo:[1,"titulo"]},{fechar:"fechar"}),(l()(),t["\u0275and"](16777216,null,0,1,null,J)),t["\u0275did"](9,16384,null,0,r.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275eld"](10,0,null,0,5,"app-modal-footer",[],null,null,null,R.b,R.a)),t["\u0275did"](11,114688,null,0,y.a,[],null,null),(l()(),t["\u0275eld"](12,0,null,0,1,"button",[["class","btn btn-secondary"],["data-dismiss","modal"],["type","button"]],null,[[null,"click"]],(function(l,n,e){var u=!0;return"click"===n&&(u=!1!==t["\u0275nov"](l,3).resetForm()&&u),u}),null,null)),(l()(),t["\u0275ted"](-1,null,["Fechar"])),(l()(),t["\u0275eld"](14,0,null,0,1,"button",[["class","btn btn-primary"],["type","submit"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Salvar"]))],(function(l,n){var e=n.component;l(n,7,0,"modalStatusPerfil",t["\u0275inlineInterpolate"](1,"",e.perfil&&e.status.ATIVO===e.perfil.status?"Inativar Perfil":"Ativar Perfil","")),l(n,9,0,e.perfil),l(n,11,0)}),(function(l,n){l(n,1,0,t["\u0275nov"](n,5).ngClassUntouched,t["\u0275nov"](n,5).ngClassTouched,t["\u0275nov"](n,5).ngClassPristine,t["\u0275nov"](n,5).ngClassDirty,t["\u0275nov"](n,5).ngClassValid,t["\u0275nov"](n,5).ngClassInvalid,t["\u0275nov"](n,5).ngClassPending)}))}const Z=Object(F.v)("[Perfil] Recuperar Funcionalides Ativas"),W=Object(F.v)("[Perfil] Recuperar Funcionalidades Ativas Sucesso",Object(F.B)()),Y=Object(F.v)("[Perfil] Recuperar Acoes Nao Vinculadas",Object(F.B)()),X=Object(F.v)("[Perfil] Recuperar Acoes Nao Vinculadas Sucesso",Object(F.B)()),ll=Object(F.v)("[PerfilFuncionalidadeAcao] Count",Object(F.B)()),nl=Object(F.v)("[PerfilFuncionalidadeAcao] Count Sucesso",Object(F.B)()),el=Object(F.v)("[PerfilFuncionalidadeAcao] Count Erro"),tl=Object(F.v)("[PerfilFuncionalidadeAcao] Pesquisar",Object(F.B)()),ul=Object(F.v)("[PerfilFuncionalidadeAcao] Pesquisar Sucesso",Object(F.B)()),al=Object(F.v)("[PerfilFuncionalidadeAcao] Pesquisar Erro"),il=Object(F.v)("[PerfilFuncionalidadeAcao] Salvar",Object(F.B)()),ol=Object(F.v)("[PerfilFuncionalidadeAcao] Salvar Sucesso",Object(F.B)()),rl=Object(F.v)("[PerfilFuncionalidadeAcao] Atualizar Status",Object(F.B)()),sl=Object(F.v)("[PerfilFuncionalidadeAcao] Atualizar Status Sucesso",Object(F.B)());class dl{constructor(l){this.store=l,this.status=V.a,this.fecharModal=()=>{this.modal.close()}}ngOnInit(){}carregar(l){this.perfilFuncionalidadeAcao=l,this.modal.open()}salvar(){this.store.dispatch(rl({id:this.perfilFuncionalidadeAcao.id,status:this.status.ATIVO===this.perfilFuncionalidadeAcao.status?this.status.INATIVO:this.status.ATIVO,afterSave:this.fecharModal}))}}var cl=t["\u0275crt"]({encapsulation:0,styles:[[""]],data:{}});function pl(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"label",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,[" Deseja realmente ativar o registro? "]))],null,null)}function fl(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"label",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,[" Deseja realmente excluir/inativar o registro? "]))],null,null)}function gl(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,7,"app-modal-body",[],null,null,null,A.b,A.a)),t["\u0275did"](1,114688,null,0,S.a,[],null,null),(l()(),t["\u0275eld"](2,0,null,0,5,"div",[["class","row"]],null,null,null,null,null)),(l()(),t["\u0275eld"](3,0,null,null,4,"div",[["class","col-xl-12"]],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,pl)),t["\u0275did"](5,16384,null,0,r.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,fl)),t["\u0275did"](7,16384,null,0,r.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],(function(l,n){var e=n.component;l(n,1,0),l(n,5,0,e.status.INATIVO===e.perfilFuncionalidadeAcao.status),l(n,7,0,e.status.ATIVO===e.perfilFuncionalidadeAcao.status)}),null)}function vl(l){return t["\u0275vid"](0,[t["\u0275qud"](671088640,1,{modal:0}),(l()(),t["\u0275eld"](1,0,null,null,14,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngSubmit"],[null,"submit"],[null,"reset"]],(function(l,n,e){var u=!0,a=l.component;return"submit"===n&&(u=!1!==t["\u0275nov"](l,3).onSubmit(e)&&u),"reset"===n&&(u=!1!==t["\u0275nov"](l,3).onReset()&&u),"ngSubmit"===n&&(u=!1!==a.salvar()&&u),u}),null,null)),t["\u0275did"](2,16384,null,0,m["\u0275angular_packages_forms_forms_z"],[],null,null),t["\u0275did"](3,4210688,[["perfilFuncionalidadeAcaoStatusForm",4]],0,m.NgForm,[[8,null],[8,null]],null,{ngSubmit:"ngSubmit"}),t["\u0275prd"](2048,null,m.ControlContainer,null,[m.NgForm]),t["\u0275did"](5,16384,null,0,m.NgControlStatusGroup,[[4,m.ControlContainer]],null,null),(l()(),t["\u0275eld"](6,0,null,null,9,"app-modal",[["id","modalStatusPerfilFuncionalidadeAcao"],["modalVinculada","modalPerfilFuncionalidade"]],null,[[null,"fechar"]],(function(l,n,e){var u=!0;return"fechar"===n&&(t["\u0275nov"](l,3).resetForm(),u=!1!==t["\u0275nov"](l,7).close()&&u),u}),I.b,I.a)),t["\u0275did"](7,114688,[[1,4],["modal",4]],0,j.a,[],{id:[0,"id"],titulo:[1,"titulo"],modalVinculada:[2,"modalVinculada"],showModalVinculadaOnClose:[3,"showModalVinculadaOnClose"]},{fechar:"fechar"}),(l()(),t["\u0275and"](16777216,null,0,1,null,gl)),t["\u0275did"](9,16384,null,0,r.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275eld"](10,0,null,0,5,"app-modal-footer",[],null,null,null,R.b,R.a)),t["\u0275did"](11,114688,null,0,y.a,[],null,null),(l()(),t["\u0275eld"](12,0,null,0,1,"button",[["class","btn btn-secondary"],["data-dismiss","modal"],["type","button"]],null,[[null,"click"]],(function(l,n,e){var u=!0;return"click"===n&&(t["\u0275nov"](l,3).resetForm(),u=!1!==t["\u0275nov"](l,7).close()&&u),u}),null,null)),(l()(),t["\u0275ted"](-1,null,["Fechar"])),(l()(),t["\u0275eld"](14,0,null,0,1,"button",[["class","btn btn-primary"],["type","submit"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Salvar"]))],(function(l,n){var e=n.component;l(n,7,0,"modalStatusPerfilFuncionalidadeAcao",t["\u0275inlineInterpolate"](1,"",e.perfilFuncionalidadeAcao&&e.status.ATIVO===e.perfilFuncionalidadeAcao.status?"Inativar A\xe7\xe3o":"Ativar A\xe7\xe3o",""),"modalPerfilFuncionalidade",!0),l(n,9,0,e.perfilFuncionalidadeAcao),l(n,11,0)}),(function(l,n){l(n,1,0,t["\u0275nov"](n,5).ngClassUntouched,t["\u0275nov"](n,5).ngClassTouched,t["\u0275nov"](n,5).ngClassPristine,t["\u0275nov"](n,5).ngClassDirty,t["\u0275nov"](n,5).ngClassValid,t["\u0275nov"](n,5).ngClassInvalid,t["\u0275nov"](n,5).ngClassPending)}))}const ml=Object(F.w)("perfisFuncionalidades"),hl=Object(F.z)(ml,l=>l.funcionalidades),bl=Object(F.z)(ml,l=>l.acoes?l.acoes:[]),Cl=Object(F.z)(ml,l=>l.filter),Ol=Object(F.z)(ml,l=>l.count),Al=l=>Object(F.z)(ml,n=>{const e=l||n.page,t=n.pagesRegs.filter(l=>l.page===e.first);return t.length>0?t[0]:void 0}),Sl=Object(F.z)(ml,Al(void 0),(l,n)=>n?n.registros.map(n=>l.entities[n]):[]),Il=(l,n)=>Object(F.z)(ml,Al(l),(l,e)=>l.sort&&n.field===l.sort.field&&n.order===l.sort.order&&e?e.registros.map(n=>l.entities[n]):[]);class jl{}class Rl{}var yl=e("L6TL");class Nl{}class Vl extends yl.a{constructor(l){super(l),this.store=l,this.status=V.a,this.clearTable=()=>{super.resetTable(this.table)},this.limparAcoesSalvar=()=>{this.acoesSelecionadas=[],this.clearTable()}}ngOnInit(){this.funcionalidades$=this.store.pipe(Object(F.C)(hl)),this.acoesNaoVinculadas$=this.store.pipe(Object(F.C)(bl)),this.totalRecords$=this.store.pipe(Object(F.C)(Ol)),this.perfisFuncionalidadesAcoes$=this.store.pipe(Object(F.C)(Sl))}carregar(l){this.store.dispatch(Z()),this.perfil=l,this.idFuncionalidade=void 0,this.acoesSelecionadas=[],this.pesquisar(),this.modal.open()}fechar(){this.form.resetForm(),this.limparAcoes(),this.modal.close(),this.store.dispatch(nl({filter:void 0,count:0,afterCount:()=>{}}))}limparAcoes(){this.store.dispatch(X({acoes:void 0}))}changeFuncionalidade(){this.idFuncionalidade?this.store.dispatch(Y({idPerfil:this.perfil.id,idFuncionalidade:this.idFuncionalidade})):this.limparAcoes(),this.pesquisar()}changeAcoes(l,n){if(n)this.acoesSelecionadas.push(l);else{const n=this.acoesSelecionadas.indexOf(l);this.acoesSelecionadas.splice(n,1)}}pesquisar(){const l=new jl;l.perfil=new N.a,l.perfil.id=this.perfil.id,l.funcionalidadeAcao=new Rl,l.funcionalidadeAcao.id=new Nl,l.funcionalidadeAcao.id.idFuncionalidade=this.idFuncionalidade,this.store.dispatch(ll({filter:l,afterCount:this.clearTable}))}loadPerfis(l){const n=super.pageQuery(l),e=super.sortQuery(l);this.store.dispatch(tl({page:n,sort:e}))}salvar(){const l=this.acoesSelecionadas.map(l=>{const n=new jl;return n.status=this.status.ATIVO,n.perfil=Object.assign({},this.perfil),n.funcionalidadeAcao=new Rl,n.funcionalidadeAcao.id=new Nl,n.funcionalidadeAcao.id.idFuncionalidade=this.idFuncionalidade,n.funcionalidadeAcao.id.idAcao=l,n});this.store.dispatch(il({perfis:l,afterSave:this.limparAcoesSalvar}))}}var Fl=t["\u0275crt"]({encapsulation:0,styles:[[""]],data:{}});function Pl(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,3,"option",[],null,null,null,null,null)),t["\u0275did"](1,147456,null,0,m.NgSelectOption,[t.ElementRef,t.Renderer2,[2,m.SelectControlValueAccessor]],{ngValue:[0,"ngValue"]},null),t["\u0275did"](2,147456,null,0,m["\u0275angular_packages_forms_forms_y"],[t.ElementRef,t.Renderer2,[8,null]],{ngValue:[0,"ngValue"]},null),(l()(),t["\u0275ted"](3,null,[" "," "]))],(function(l,n){l(n,1,0,n.context.$implicit.id),l(n,2,0,n.context.$implicit.id)}),(function(l,n){l(n,3,0,n.context.$implicit.nome)}))}function Tl(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"div",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,[" Selecione uma funcionalidade para listar as a\xe7\xf5es dispon\xedveis."]))],null,null)}function _l(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"div",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,[" Todas as a\xe7\xf5es dessa funcionalidade j\xe1 foram vinculadas ao perfil."]))],null,null)}function El(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,3,"label",[["class","kt-checkbox"]],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,0,"input",[["type","checkbox"]],[[8,"name",0]],[[null,"change"]],(function(l,n,e){var t=!0;return"change"===n&&(t=!1!==l.component.changeAcoes(l.context.$implicit.id,e.target.checked)&&t),t}),null,null)),(l()(),t["\u0275ted"](2,null,["",""])),(l()(),t["\u0275eld"](3,0,null,null,0,"span",[],null,null,null,null,null))],null,(function(l,n){l(n,1,0,t["\u0275inlineInterpolate"](1,"acaoNovo_",n.context.index,"")),l(n,2,0,n.context.$implicit.nome)}))}function kl(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,18,"tr",[],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["#"])),(l()(),t["\u0275eld"](3,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Status"])),(l()(),t["\u0275eld"](5,0,null,null,4,"th",[["pSortableColumn","nome"]],[[2,"ui-sortable-column",null],[2,"ui-state-highlight",null],[1,"tabindex",0]],[[null,"click"],[null,"keydown.enter"]],(function(l,n,e){var u=!0;return"click"===n&&(u=!1!==t["\u0275nov"](l,6).onClick(e)&&u),"keydown.enter"===n&&(u=!1!==t["\u0275nov"](l,6).onEnterKey(e)&&u),u}),null,null)),t["\u0275did"](6,212992,null,0,i.SortableColumn,[i.Table],{field:[0,"field"]},null),(l()(),t["\u0275ted"](-1,null,["Funcionalidade "])),(l()(),t["\u0275eld"](8,0,null,null,1,"p-sortIcon",[["field","nome"]],null,null,null,o.e,o.a)),t["\u0275did"](9,245760,null,0,i.SortIcon,[i.Table],{field:[0,"field"]},null),(l()(),t["\u0275eld"](10,0,null,null,4,"th",[["pSortableColumn","descricao"]],[[2,"ui-sortable-column",null],[2,"ui-state-highlight",null],[1,"tabindex",0]],[[null,"click"],[null,"keydown.enter"]],(function(l,n,e){var u=!0;return"click"===n&&(u=!1!==t["\u0275nov"](l,11).onClick(e)&&u),"keydown.enter"===n&&(u=!1!==t["\u0275nov"](l,11).onEnterKey(e)&&u),u}),null,null)),t["\u0275did"](11,212992,null,0,i.SortableColumn,[i.Table],{field:[0,"field"]},null),(l()(),t["\u0275ted"](-1,null,["A\xe7\xe3o "])),(l()(),t["\u0275eld"](13,0,null,null,1,"p-sortIcon",[["field","descricao"]],null,null,null,o.e,o.a)),t["\u0275did"](14,245760,null,0,i.SortIcon,[i.Table],{field:[0,"field"]},null),(l()(),t["\u0275eld"](15,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Data de Cadastro"])),(l()(),t["\u0275eld"](17,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["A\xe7\xf5es"]))],(function(l,n){l(n,6,0,"nome"),l(n,9,0,"nome"),l(n,11,0,"descricao"),l(n,14,0,"descricao")}),(function(l,n){l(n,5,0,t["\u0275nov"](n,6).isEnabled(),t["\u0275nov"](n,6).sorted,t["\u0275nov"](n,6).isEnabled()?"0":null),l(n,10,0,t["\u0275nov"](n,11).isEnabled(),t["\u0275nov"](n,11).sorted,t["\u0275nov"](n,11).isEnabled()?"0":null)}))}function Ml(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"span",[["class","kt-badge  kt-badge--danger kt-badge--inline kt-badge--pill"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Inativo"]))],null,null)}function wl(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"span",[["class","kt-badge  kt-badge--success kt-badge--inline kt-badge--pill"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Ativo"]))],null,null)}function Dl(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"a",[["style","margin-right: 10px; color: #ea5252; cursor: pointer;"],["title","Excluir/Inativar"]],null,[[null,"click"]],(function(l,n,e){var u=!0;return"click"===n&&(u=!1!==t["\u0275nov"](l.parent.parent.parent,56).carregar(l.parent.context.$implicit)&&u),u}),null,null)),(l()(),t["\u0275eld"](1,0,null,null,0,"i",[["class","fa fa-times"]],null,null,null,null,null))],null,null)}function Ul(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"a",[["style","margin-right: 10px; color: green; cursor: pointer;"],["title","Ativar"]],null,[[null,"click"]],(function(l,n,e){var u=!0;return"click"===n&&(u=!1!==t["\u0275nov"](l.parent.parent.parent,56).carregar(l.parent.context.$implicit)&&u),u}),null,null)),(l()(),t["\u0275eld"](1,0,null,null,0,"i",[["class","fa fa-check"]],null,null,null,null,null))],null,null)}function xl(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,19,"tr",[],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),t["\u0275ted"](2,null,["",""])),(l()(),t["\u0275eld"](3,0,null,null,4,"td",[],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,Ml)),t["\u0275did"](5,16384,null,0,r.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,wl)),t["\u0275did"](7,16384,null,0,r.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275eld"](8,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),t["\u0275ted"](9,null,["",""])),(l()(),t["\u0275eld"](10,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),t["\u0275ted"](11,null,["",""])),(l()(),t["\u0275eld"](12,0,null,null,2,"td",[],null,null,null,null,null)),(l()(),t["\u0275ted"](13,null,["",""])),t["\u0275ppd"](14,2),(l()(),t["\u0275eld"](15,0,null,null,4,"td",[],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,Dl)),t["\u0275did"](17,16384,null,0,r.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,Ul)),t["\u0275did"](19,16384,null,0,r.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],(function(l,n){var e=n.component;l(n,5,0,e.status.INATIVO===n.context.$implicit.status),l(n,7,0,e.status.ATIVO===n.context.$implicit.status),l(n,17,0,e.status.ATIVO===n.context.$implicit.status),l(n,19,0,e.status.INATIVO===n.context.$implicit.status)}),(function(l,n){l(n,2,0,n.context.rowIndex+1),l(n,9,0,n.context.$implicit.funcionalidadeAcao.funcionalidade.nome),l(n,11,0,n.context.$implicit.funcionalidadeAcao.acao.nome);var e=t["\u0275unv"](n,13,0,l(n,14,0,t["\u0275nov"](n.parent.parent,0),n.context.$implicit.dataCadastro,"dd/MM/yyyy HH:mm:ss"));l(n,13,0,e)}))}function zl(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,10,"p-table",[["styleClass","table-responsive"],["tableStyleClass","table table-striped table-bordered"]],null,[[null,"onLazyLoad"]],(function(l,n,e){var t=!0;return"onLazyLoad"===n&&(t=!1!==l.component.loadPerfis(e)&&t),t}),o.h,o.b)),t["\u0275prd"](512,null,i.TableService,i.TableService,[]),t["\u0275did"](2,5488640,[[3,4],["perfisFuncionalidadesTable",4]],1,i.Table,[t.ElementRef,t.NgZone,i.TableService,t.ChangeDetectorRef],{styleClass:[0,"styleClass"],tableStyleClass:[1,"tableStyleClass"],paginator:[2,"paginator"],rowsPerPageOptions:[3,"rowsPerPageOptions"],lazy:[4,"lazy"],value:[5,"value"],rows:[6,"rows"],totalRecords:[7,"totalRecords"]},{onLazyLoad:"onLazyLoad"}),t["\u0275qud"](603979776,4,{templates:1}),t["\u0275pad"](4,3),t["\u0275pid"](131072,r.AsyncPipe,[t.ChangeDetectorRef]),t["\u0275pid"](131072,r.AsyncPipe,[t.ChangeDetectorRef]),(l()(),t["\u0275and"](0,null,null,1,null,kl)),t["\u0275did"](8,16384,[[4,4]],0,v.PrimeTemplate,[t.TemplateRef],{name:[0,"name"]},null),(l()(),t["\u0275and"](0,null,null,1,null,xl)),t["\u0275did"](10,16384,[[4,4]],0,v.PrimeTemplate,[t.TemplateRef],{name:[0,"name"]},null)],(function(l,n){var e=n.component,u=l(n,4,0,5,10,15);l(n,2,0,"table-responsive","table table-striped table-bordered",!0,u,!0,t["\u0275unv"](n,2,5,t["\u0275nov"](n,5).transform(e.perfisFuncionalidadesAcoes$)),5,t["\u0275unv"](n,2,7,t["\u0275nov"](n,6).transform(e.totalRecords$))),l(n,8,0,"header"),l(n,10,0,"body")}),null)}function ql(l){return t["\u0275vid"](0,[t["\u0275pid"](0,r.DatePipe,[t.LOCALE_ID]),t["\u0275qud"](671088640,1,{modal:0}),t["\u0275qud"](671088640,2,{form:0}),t["\u0275qud"](671088640,3,{table:0}),(l()(),t["\u0275eld"](4,0,null,null,50,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngSubmit"],[null,"submit"],[null,"reset"]],(function(l,n,e){var u=!0,a=l.component;return"submit"===n&&(u=!1!==t["\u0275nov"](l,6).onSubmit(e)&&u),"reset"===n&&(u=!1!==t["\u0275nov"](l,6).onReset()&&u),"ngSubmit"===n&&(u=!1!==a.salvar()&&u),u}),null,null)),t["\u0275did"](5,16384,null,0,m["\u0275angular_packages_forms_forms_z"],[],null,null),t["\u0275did"](6,4210688,[[2,4],["perfilFuncionalidadeForm",4]],0,m.NgForm,[[8,null],[8,null]],null,{ngSubmit:"ngSubmit"}),t["\u0275prd"](2048,null,m.ControlContainer,null,[m.NgForm]),t["\u0275did"](8,16384,null,0,m.NgControlStatusGroup,[[4,m.ControlContainer]],null,null),(l()(),t["\u0275eld"](9,0,null,null,45,"app-modal",[["id","modalPerfilFuncionalidade"],["sizeClass","modal-lg"],["titulo","Vincular Funcionalidades"]],null,[[null,"fechar"]],(function(l,n,e){var t=!0;return"fechar"===n&&(t=!1!==l.component.fechar()&&t),t}),I.b,I.a)),t["\u0275did"](10,114688,[[1,4],["modal",4]],0,j.a,[],{id:[0,"id"],titulo:[1,"titulo"],sizeClass:[2,"sizeClass"]},{fechar:"fechar"}),(l()(),t["\u0275eld"](11,0,null,0,39,"app-modal-body",[],null,null,null,A.b,A.a)),t["\u0275did"](12,114688,null,0,S.a,[],null,null),(l()(),t["\u0275eld"](13,0,null,0,30,"div",[["class","row"]],null,null,null,null,null)),(l()(),t["\u0275eld"](14,0,null,null,17,"div",[["class","form-group col-xl-12"]],null,null,null,null,null)),(l()(),t["\u0275eld"](15,0,null,null,1,"label",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Funcionalidade*:"])),(l()(),t["\u0275eld"](17,0,null,null,14,"select",[["name","funcionalidadeNovo"],["required",""]],[[8,"className",0],[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"blur"]],(function(l,n,e){var u=!0,a=l.component;return"change"===n&&(u=!1!==t["\u0275nov"](l,18).onChange(e.target.value)&&u),"blur"===n&&(u=!1!==t["\u0275nov"](l,18).onTouched()&&u),"ngModelChange"===n&&(u=!1!==(a.idFuncionalidade=e)&&u),"change"===n&&(u=!1!==a.changeFuncionalidade()&&u),u}),null,null)),t["\u0275did"](18,16384,null,0,m.SelectControlValueAccessor,[t.Renderer2,t.ElementRef],null,null),t["\u0275did"](19,16384,null,0,m.RequiredValidator,[],{required:[0,"required"]},null),t["\u0275prd"](1024,null,m.NG_VALIDATORS,(function(l){return[l]}),[m.RequiredValidator]),t["\u0275prd"](1024,null,m.NG_VALUE_ACCESSOR,(function(l){return[l]}),[m.SelectControlValueAccessor]),t["\u0275did"](22,671744,[["funcionalidadeNovo",4]],0,m.NgModel,[[2,m.ControlContainer],[6,m.NG_VALIDATORS],[8,null],[6,m.NG_VALUE_ACCESSOR]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),t["\u0275prd"](2048,null,m.NgControl,null,[m.NgModel]),t["\u0275did"](24,16384,null,0,m.NgControlStatus,[[4,m.NgControl]],null,null),(l()(),t["\u0275eld"](25,0,null,null,3,"option",[],null,null,null,null,null)),t["\u0275did"](26,147456,null,0,m.NgSelectOption,[t.ElementRef,t.Renderer2,[2,m.SelectControlValueAccessor]],{ngValue:[0,"ngValue"]},null),t["\u0275did"](27,147456,null,0,m["\u0275angular_packages_forms_forms_y"],[t.ElementRef,t.Renderer2,[8,null]],{ngValue:[0,"ngValue"]},null),(l()(),t["\u0275ted"](-1,null,["Selecione..."])),(l()(),t["\u0275and"](16777216,null,null,2,null,Pl)),t["\u0275did"](30,278528,null,0,r.NgForOf,[t.ViewContainerRef,t.TemplateRef,t.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),t["\u0275pid"](131072,r.AsyncPipe,[t.ChangeDetectorRef]),(l()(),t["\u0275eld"](32,0,null,null,11,"div",[["class","form-group col-xl-12"]],null,null,null,null,null)),(l()(),t["\u0275eld"](33,0,null,null,1,"label",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["A\xe7\xf5es*: "])),(l()(),t["\u0275and"](16777216,null,null,1,null,Tl)),t["\u0275did"](36,16384,null,0,r.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,2,null,_l)),t["\u0275did"](38,16384,null,0,r.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),t["\u0275pid"](131072,r.AsyncPipe,[t.ChangeDetectorRef]),(l()(),t["\u0275eld"](40,0,null,null,3,"div",[["class","kt-checkbox-list"]],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,2,null,El)),t["\u0275did"](42,278528,null,0,r.NgForOf,[t.ViewContainerRef,t.TemplateRef,t.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),t["\u0275pid"](131072,r.AsyncPipe,[t.ChangeDetectorRef]),(l()(),t["\u0275eld"](44,0,null,0,3,"div",[["class","row text-right"]],null,null,null,null,null)),(l()(),t["\u0275eld"](45,0,null,null,2,"div",[["class","w-100 p-4"]],null,null,null,null,null)),(l()(),t["\u0275eld"](46,0,null,null,1,"button",[["class","btn btn-primary"],["type","submit"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Vincular Funcionalidades"])),(l()(),t["\u0275and"](16777216,null,0,2,null,zl)),t["\u0275did"](49,16384,null,0,r.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),t["\u0275pid"](131072,r.AsyncPipe,[t.ChangeDetectorRef]),(l()(),t["\u0275eld"](51,0,null,0,3,"app-modal-footer",[],null,null,null,R.b,R.a)),t["\u0275did"](52,114688,null,0,y.a,[],null,null),(l()(),t["\u0275eld"](53,0,null,0,1,"button",[["class","btn btn-secondary"],["data-dismiss","modal"],["type","button"]],null,[[null,"click"]],(function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.fechar()&&t),t}),null,null)),(l()(),t["\u0275ted"](-1,null,["Fechar"])),(l()(),t["\u0275eld"](55,0,null,null,1,"app-perfil-funcionalidade-status",[],null,null,null,vl,cl)),t["\u0275did"](56,114688,[["perfilFuncionalidadeStatus",4]],0,dl,[F.o],null,null)],(function(l,n){var e=n.component;l(n,10,0,"modalPerfilFuncionalidade","Vincular Funcionalidades","modal-lg"),l(n,12,0),l(n,19,0,""),l(n,22,0,"funcionalidadeNovo",e.idFuncionalidade),l(n,26,0,void 0),l(n,27,0,void 0),l(n,30,0,t["\u0275unv"](n,30,0,t["\u0275nov"](n,31).transform(e.funcionalidades$))),l(n,36,0,!e.idFuncionalidade),l(n,38,0,e.idFuncionalidade&&0===t["\u0275unv"](n,38,0,t["\u0275nov"](n,39).transform(e.acoesNaoVinculadas$)).length),l(n,42,0,t["\u0275unv"](n,42,0,t["\u0275nov"](n,43).transform(e.acoesNaoVinculadas$))),l(n,49,0,t["\u0275unv"](n,49,0,t["\u0275nov"](n,50).transform(e.totalRecords$))),l(n,52,0),l(n,56,0)}),(function(l,n){l(n,4,0,t["\u0275nov"](n,8).ngClassUntouched,t["\u0275nov"](n,8).ngClassTouched,t["\u0275nov"](n,8).ngClassPristine,t["\u0275nov"](n,8).ngClassDirty,t["\u0275nov"](n,8).ngClassValid,t["\u0275nov"](n,8).ngClassInvalid,t["\u0275nov"](n,8).ngClassPending),l(n,17,0,t["\u0275inlineInterpolate"](1,"form-control ",t["\u0275nov"](n,22).invalid&&t["\u0275nov"](n,6).submitted?"is-invalid":"",""),t["\u0275nov"](n,19).required?"":null,t["\u0275nov"](n,24).ngClassUntouched,t["\u0275nov"](n,24).ngClassTouched,t["\u0275nov"](n,24).ngClassPristine,t["\u0275nov"](n,24).ngClassDirty,t["\u0275nov"](n,24).ngClassValid,t["\u0275nov"](n,24).ngClassInvalid,t["\u0275nov"](n,24).ngClassPending)}))}var $l=e("DRwZ");const Ll=Object($l.a)(),Bl=Ll.getInitialState({filter:void 0,count:0,page:void 0,sort:void 0,pagesRegs:[],entities:[]}),Gl=Object(F.x)(Bl,Object(F.A)(T,(l,{filter:n,count:e})=>Object.assign({},Bl,{filter:n,count:e})),Object(F.A)(_,l=>Object.assign({},Bl)),Object(F.A)(k,(l,{perfis:n,page:e,sort:t})=>{const u={page:e.first,registros:n.map(l=>l.id)};return l.sort&&t.field===l.sort.field&&t.order===l.sort.order?Ll.addMany(n,Object.assign({},l,{page:e,sort:t,pagesRegs:l.pagesRegs.find(l=>l.page===e.first)?[...l.pagesRegs]:[...l.pagesRegs,u]})):Ll.addAll(n,Object.assign({},l,{page:e,sort:t,pagesRegs:[u]}))}),Object(F.A)(D,(l,{perfil:n,insert:e})=>Ll.upsertOne(n,Object.assign({},l,{count:e?l.count+1:l.count}))),Object(F.A)(x,(l,{id:n,status:e})=>Ll.updateOne({id:n,changes:Object.assign({},l.entities[n],{status:e})},l)));function Hl(l,n){return Gl(l,n)}const{selectAll:Ql}=Ll.getSelectors(),Jl=Object(F.w)("perfis"),Kl=(Object(F.z)(Jl,Ql),Object(F.z)(Jl,l=>l.filter)),Zl=Object(F.z)(Jl,l=>l.count),Wl=l=>Object(F.z)(Jl,n=>{const e=l||n.page,t=n.pagesRegs.filter(l=>l.page===e.first);return t.length>0?t[0]:void 0}),Yl=Object(F.z)(Jl,Wl(void 0),(l,n)=>n?n.registros.map(n=>l.entities[n]):[]),Xl=(l,n)=>Object(F.z)(Jl,Wl(l),(l,e)=>l.sort&&n.field===l.sort.field&&n.order===l.sort.order&&e?e.registros.map(n=>l.entities[n]):[]);var ln=e("GdzR");class nn extends yl.a{constructor(l){super(l),this.store=l,this.status=V.a,this.pt=ln.a,this.clearTable=()=>{super.resetTable(this.tablePerfis)}}ngOnInit(){this.totalRecords$=this.store.pipe(Object(F.C)(Zl)),this.perfis$=this.store.pipe(Object(F.C)(Yl)),this.limparFiltro()}ngOnDestroy(){this.store.dispatch(T({filter:void 0,count:0,afterCount:this.clearTable}))}limparFiltro(){this.filtro=new N.a,this.pesquisar()}pesquisar(){this.store.dispatch(P({filter:Object.assign({},this.filtro),afterCount:this.clearTable}))}loadPerfis(l){const n=super.pageQuery(l),e=super.sortQuery(l);this.store.dispatch(E({page:n,sort:e}))}}var en=t["\u0275crt"]({encapsulation:0,styles:[[""]],data:{}});function tn(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,18,"tr",[],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["#"])),(l()(),t["\u0275eld"](3,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Status"])),(l()(),t["\u0275eld"](5,0,null,null,4,"th",[["pSortableColumn","nome"]],[[2,"ui-sortable-column",null],[2,"ui-state-highlight",null],[1,"tabindex",0]],[[null,"click"],[null,"keydown.enter"]],(function(l,n,e){var u=!0;return"click"===n&&(u=!1!==t["\u0275nov"](l,6).onClick(e)&&u),"keydown.enter"===n&&(u=!1!==t["\u0275nov"](l,6).onEnterKey(e)&&u),u}),null,null)),t["\u0275did"](6,212992,null,0,i.SortableColumn,[i.Table],{field:[0,"field"]},null),(l()(),t["\u0275ted"](-1,null,["Nome "])),(l()(),t["\u0275eld"](8,0,null,null,1,"p-sortIcon",[["field","nome"]],null,null,null,o.e,o.a)),t["\u0275did"](9,245760,null,0,i.SortIcon,[i.Table],{field:[0,"field"]},null),(l()(),t["\u0275eld"](10,0,null,null,4,"th",[["pSortableColumn","descricao"]],[[2,"ui-sortable-column",null],[2,"ui-state-highlight",null],[1,"tabindex",0]],[[null,"click"],[null,"keydown.enter"]],(function(l,n,e){var u=!0;return"click"===n&&(u=!1!==t["\u0275nov"](l,11).onClick(e)&&u),"keydown.enter"===n&&(u=!1!==t["\u0275nov"](l,11).onEnterKey(e)&&u),u}),null,null)),t["\u0275did"](11,212992,null,0,i.SortableColumn,[i.Table],{field:[0,"field"]},null),(l()(),t["\u0275ted"](-1,null,["Descri\xe7\xe3o "])),(l()(),t["\u0275eld"](13,0,null,null,1,"p-sortIcon",[["field","descricao"]],null,null,null,o.e,o.a)),t["\u0275did"](14,245760,null,0,i.SortIcon,[i.Table],{field:[0,"field"]},null),(l()(),t["\u0275eld"](15,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Data de Cadastro"])),(l()(),t["\u0275eld"](17,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["A\xe7\xf5es"]))],(function(l,n){l(n,6,0,"nome"),l(n,9,0,"nome"),l(n,11,0,"descricao"),l(n,14,0,"descricao")}),(function(l,n){l(n,5,0,t["\u0275nov"](n,6).isEnabled(),t["\u0275nov"](n,6).sorted,t["\u0275nov"](n,6).isEnabled()?"0":null),l(n,10,0,t["\u0275nov"](n,11).isEnabled(),t["\u0275nov"](n,11).sorted,t["\u0275nov"](n,11).isEnabled()?"0":null)}))}function un(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"span",[["class","kt-badge  kt-badge--danger kt-badge--inline kt-badge--pill"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Inativo"]))],null,null)}function an(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"span",[["class","kt-badge  kt-badge--success kt-badge--inline kt-badge--pill"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Ativo"]))],null,null)}function on(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"a",[["style","margin-right: 10px; color: #ea5252; cursor: pointer;"],["title","Excluir/Inativar"]],null,[[null,"click"]],(function(l,n,e){var u=!0;return"click"===n&&(u=!1!==t["\u0275nov"](l.parent.parent.parent,69).carregar(l.parent.context.$implicit)&&u),u}),null,null)),(l()(),t["\u0275eld"](1,0,null,null,0,"i",[["class","fa fa-times"]],null,null,null,null,null))],null,null)}function rn(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"a",[["style","margin-right: 10px; color: green; cursor: pointer;"],["title","Ativar"]],null,[[null,"click"]],(function(l,n,e){var u=!0;return"click"===n&&(u=!1!==t["\u0275nov"](l.parent.parent.parent,69).carregar(l.parent.context.$implicit)&&u),u}),null,null)),(l()(),t["\u0275eld"](1,0,null,null,0,"i",[["class","fa fa-check"]],null,null,null,null,null))],null,null)}function sn(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"a",[["style","margin-right: 10px; color: #5d78ff; cursor: pointer;"],["title","Detalhar/Editar"]],null,[[null,"click"]],(function(l,n,e){var u=!0;return"click"===n&&(u=!1!==t["\u0275nov"](l.parent.parent.parent,67).editar(l.parent.context.$implicit)&&u),u}),null,null)),(l()(),t["\u0275eld"](1,0,null,null,0,"i",[["class","fa fa-search"]],null,null,null,null,null))],null,null)}function dn(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"a",[["style","margin-right: 10px; color: #5d78ff; cursor: pointer;"],["title","Vincular Funcionalidades"]],null,[[null,"click"]],(function(l,n,e){var u=!0;return"click"===n&&(u=!1!==t["\u0275nov"](l.parent.parent.parent,71).carregar(l.parent.context.$implicit)&&u),u}),null,null)),(l()(),t["\u0275eld"](1,0,null,null,0,"i",[["class","fa fa-sitemap"]],null,null,null,null,null))],null,null)}function cn(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,27,"tr",[],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),t["\u0275ted"](2,null,["",""])),(l()(),t["\u0275eld"](3,0,null,null,4,"td",[],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,un)),t["\u0275did"](5,16384,null,0,r.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,an)),t["\u0275did"](7,16384,null,0,r.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275eld"](8,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),t["\u0275ted"](9,null,["",""])),(l()(),t["\u0275eld"](10,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),t["\u0275ted"](11,null,["",""])),(l()(),t["\u0275eld"](12,0,null,null,2,"td",[],null,null,null,null,null)),(l()(),t["\u0275ted"](13,null,["",""])),t["\u0275ppd"](14,2),(l()(),t["\u0275eld"](15,0,null,null,12,"td",[],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,2,null,on)),t["\u0275did"](17,16384,null,0,r.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),t["\u0275pid"](131072,r.AsyncPipe,[t.ChangeDetectorRef]),(l()(),t["\u0275and"](16777216,null,null,2,null,rn)),t["\u0275did"](20,16384,null,0,r.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),t["\u0275pid"](131072,r.AsyncPipe,[t.ChangeDetectorRef]),(l()(),t["\u0275and"](16777216,null,null,2,null,sn)),t["\u0275did"](23,16384,null,0,r.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),t["\u0275pid"](131072,r.AsyncPipe,[t.ChangeDetectorRef]),(l()(),t["\u0275and"](16777216,null,null,2,null,dn)),t["\u0275did"](26,16384,null,0,r.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),t["\u0275pid"](131072,r.AsyncPipe,[t.ChangeDetectorRef])],(function(l,n){var e=n.component;l(n,5,0,e.status.INATIVO===n.context.$implicit.status),l(n,7,0,e.status.ATIVO===n.context.$implicit.status),l(n,17,0,e.status.ATIVO===n.context.$implicit.status&&t["\u0275unv"](n,17,0,t["\u0275nov"](n,18).transform(e.permiteFuncionalidadeAcao(e.funcionalidadeEnum.PERFIL_USUARIO,e.acaoEnum.INATIVAR)))),l(n,20,0,e.status.INATIVO===n.context.$implicit.status&&t["\u0275unv"](n,20,0,t["\u0275nov"](n,21).transform(e.permiteFuncionalidadeAcao(e.funcionalidadeEnum.PERFIL_USUARIO,e.acaoEnum.ATIVAR)))),l(n,23,0,t["\u0275unv"](n,23,0,t["\u0275nov"](n,24).transform(e.permiteFuncionalidadeAcao(e.funcionalidadeEnum.PERFIL_USUARIO,e.acaoEnum.ALTERAR)))),l(n,26,0,t["\u0275unv"](n,26,0,t["\u0275nov"](n,27).transform(e.permiteFuncionalidadeAcao(e.funcionalidadeEnum.PERFIL_USUARIO,e.acaoEnum.VINCULAR_FUNCIONALIDADE))))}),(function(l,n){l(n,2,0,n.context.rowIndex+1),l(n,9,0,n.context.$implicit.nome),l(n,11,0,n.context.$implicit.descricao);var e=t["\u0275unv"](n,13,0,l(n,14,0,t["\u0275nov"](n.parent.parent,0),n.context.$implicit.dataCadastro,"dd/MM/yyyy HH:mm:ss"));l(n,13,0,e)}))}function pn(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,16,"app-card",[],null,null,null,s.b,s.a)),t["\u0275did"](1,114688,null,0,d.a,[],null,null),(l()(),t["\u0275eld"](2,0,null,0,1,"app-card-header",[["titulo","Resultado da Busca"]],null,null,null,c.b,c.a)),t["\u0275did"](3,114688,null,0,p.a,[],{titulo:[0,"titulo"]},null),(l()(),t["\u0275eld"](4,0,null,0,12,"app-card-body",[],null,null,null,f.b,f.a)),t["\u0275did"](5,114688,null,0,g.a,[],null,null),(l()(),t["\u0275eld"](6,0,null,0,10,"p-table",[["styleClass","table-responsive"],["tableStyleClass","table table-striped table-bordered"]],null,[[null,"onLazyLoad"]],(function(l,n,e){var t=!0;return"onLazyLoad"===n&&(t=!1!==l.component.loadPerfis(e)&&t),t}),o.h,o.b)),t["\u0275prd"](512,null,i.TableService,i.TableService,[]),t["\u0275did"](8,5488640,[[1,4],["perfisTable",4]],1,i.Table,[t.ElementRef,t.NgZone,i.TableService,t.ChangeDetectorRef],{styleClass:[0,"styleClass"],tableStyleClass:[1,"tableStyleClass"],paginator:[2,"paginator"],rowsPerPageOptions:[3,"rowsPerPageOptions"],lazy:[4,"lazy"],value:[5,"value"],rows:[6,"rows"],totalRecords:[7,"totalRecords"]},{onLazyLoad:"onLazyLoad"}),t["\u0275qud"](603979776,3,{templates:1}),t["\u0275pad"](10,3),t["\u0275pid"](131072,r.AsyncPipe,[t.ChangeDetectorRef]),t["\u0275pid"](131072,r.AsyncPipe,[t.ChangeDetectorRef]),(l()(),t["\u0275and"](0,null,null,1,null,tn)),t["\u0275did"](14,16384,[[3,4]],0,v.PrimeTemplate,[t.TemplateRef],{name:[0,"name"]},null),(l()(),t["\u0275and"](0,null,null,1,null,cn)),t["\u0275did"](16,16384,[[3,4]],0,v.PrimeTemplate,[t.TemplateRef],{name:[0,"name"]},null)],(function(l,n){var e=n.component;l(n,1,0),l(n,3,0,"Resultado da Busca"),l(n,5,0);var u=l(n,10,0,5,10,15);l(n,8,0,"table-responsive","table table-striped table-bordered",!0,u,!0,t["\u0275unv"](n,8,5,t["\u0275nov"](n,11).transform(e.perfis$)),5,t["\u0275unv"](n,8,7,t["\u0275nov"](n,12).transform(e.totalRecords$))),l(n,14,0,"header"),l(n,16,0,"body")}),null)}function fn(l){return t["\u0275vid"](0,[t["\u0275pid"](0,r.DatePipe,[t.LOCALE_ID]),t["\u0275qud"](671088640,1,{tablePerfis:0}),(l()(),t["\u0275eld"](2,0,null,null,60,"app-card",[],null,null,null,s.b,s.a)),t["\u0275did"](3,114688,null,0,d.a,[],null,null),(l()(),t["\u0275eld"](4,0,null,0,4,"app-card-header",[["titulo","Pesquisar Perfil"]],null,null,null,c.b,c.a)),t["\u0275did"](5,114688,null,0,p.a,[],{titulo:[0,"titulo"]},null),(l()(),t["\u0275eld"](6,0,null,0,2,"button",[["class","btn btn-sm btn-outline-primary"]],[[8,"disabled",0]],[[null,"click"]],(function(l,n,e){var u=!0;return"click"===n&&(u=!1!==t["\u0275nov"](l,67).adicionar()&&u),u}),null,null)),t["\u0275pid"](131072,r.AsyncPipe,[t.ChangeDetectorRef]),(l()(),t["\u0275ted"](-1,null,["Adicionar"])),(l()(),t["\u0275eld"](9,0,null,0,53,"form",[["class","kt-form"],["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],(function(l,n,e){var u=!0;return"submit"===n&&(u=!1!==t["\u0275nov"](l,11).onSubmit(e)&&u),"reset"===n&&(u=!1!==t["\u0275nov"](l,11).onReset()&&u),u}),null,null)),t["\u0275did"](10,16384,null,0,m["\u0275angular_packages_forms_forms_z"],[],null,null),t["\u0275did"](11,4210688,null,0,m.NgForm,[[8,null],[8,null]],null,null),t["\u0275prd"](2048,null,m.ControlContainer,null,[m.NgForm]),t["\u0275did"](13,16384,null,0,m.NgControlStatusGroup,[[4,m.ControlContainer]],null,null),(l()(),t["\u0275eld"](14,0,null,null,42,"app-card-body",[],null,null,null,f.b,f.a)),t["\u0275did"](15,114688,null,0,g.a,[],null,null),(l()(),t["\u0275eld"](16,0,null,0,40,"div",[["class","row"]],null,null,null,null,null)),(l()(),t["\u0275eld"](17,0,null,null,8,"div",[["class","form-group col-xl-6"]],null,null,null,null,null)),(l()(),t["\u0275eld"](18,0,null,null,1,"label",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Nome:"])),(l()(),t["\u0275eld"](20,0,null,null,5,"input",[["class","form-control"],["name","nome"],["placeholder","Nome"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(l,n,e){var u=!0,a=l.component;return"input"===n&&(u=!1!==t["\u0275nov"](l,21)._handleInput(e.target.value)&&u),"blur"===n&&(u=!1!==t["\u0275nov"](l,21).onTouched()&&u),"compositionstart"===n&&(u=!1!==t["\u0275nov"](l,21)._compositionStart()&&u),"compositionend"===n&&(u=!1!==t["\u0275nov"](l,21)._compositionEnd(e.target.value)&&u),"ngModelChange"===n&&(u=!1!==(a.filtro.nome=e)&&u),u}),null,null)),t["\u0275did"](21,16384,null,0,m.DefaultValueAccessor,[t.Renderer2,t.ElementRef,[2,m.COMPOSITION_BUFFER_MODE]],null,null),t["\u0275prd"](1024,null,m.NG_VALUE_ACCESSOR,(function(l){return[l]}),[m.DefaultValueAccessor]),t["\u0275did"](23,671744,null,0,m.NgModel,[[2,m.ControlContainer],[8,null],[8,null],[6,m.NG_VALUE_ACCESSOR]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),t["\u0275prd"](2048,null,m.NgControl,null,[m.NgModel]),t["\u0275did"](25,16384,null,0,m.NgControlStatus,[[4,m.NgControl]],null,null),(l()(),t["\u0275eld"](26,0,null,null,9,"div",[["class","form-group col-xl-3"]],null,null,null,null,null)),(l()(),t["\u0275eld"](27,0,null,null,1,"label",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Data Cadastro:"])),(l()(),t["\u0275eld"](29,0,null,null,6,"p-calendar",[["dateFormat","dd/mm/yy"],["inputStyleClass","form-control"],["monthNavigator","true"],["name","dataCadastro"],["placeholder","Data cadastro"],["styleClass","w-100"],["yearNavigator","true"],["yearRange","1900:2100"]],[[2,"ui-inputwrapper-filled",null],[2,"ui-inputwrapper-focus",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"]],(function(l,n,e){var t=!0;return"ngModelChange"===n&&(t=!1!==(l.component.filtro.dataCadastro=e)&&t),t}),h.b,h.a)),t["\u0275did"](30,1294336,null,1,b.Calendar,[t.ElementRef,t.Renderer2,t.ChangeDetectorRef,t.NgZone],{styleClass:[0,"styleClass"],name:[1,"name"],inputStyleClass:[2,"inputStyleClass"],placeholder:[3,"placeholder"],dateFormat:[4,"dateFormat"],monthNavigator:[5,"monthNavigator"],yearNavigator:[6,"yearNavigator"],yearRange:[7,"yearRange"],locale:[8,"locale"]},null),t["\u0275qud"](603979776,2,{templates:1}),t["\u0275prd"](1024,null,m.NG_VALUE_ACCESSOR,(function(l){return[l]}),[b.Calendar]),t["\u0275did"](33,671744,null,0,m.NgModel,[[2,m.ControlContainer],[8,null],[8,null],[6,m.NG_VALUE_ACCESSOR]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),t["\u0275prd"](2048,null,m.NgControl,null,[m.NgModel]),t["\u0275did"](35,16384,null,0,m.NgControlStatus,[[4,m.NgControl]],null,null),(l()(),t["\u0275eld"](36,0,null,null,20,"div",[["class","form-group col-xl-3"]],null,null,null,null,null)),(l()(),t["\u0275eld"](37,0,null,null,1,"label",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Status:"])),(l()(),t["\u0275eld"](39,0,null,null,17,"select",[["class","form-control"],["name","status"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"blur"]],(function(l,n,e){var u=!0,a=l.component;return"change"===n&&(u=!1!==t["\u0275nov"](l,40).onChange(e.target.value)&&u),"blur"===n&&(u=!1!==t["\u0275nov"](l,40).onTouched()&&u),"ngModelChange"===n&&(u=!1!==(a.filtro.status=e)&&u),u}),null,null)),t["\u0275did"](40,16384,null,0,m.SelectControlValueAccessor,[t.Renderer2,t.ElementRef],null,null),t["\u0275prd"](1024,null,m.NG_VALUE_ACCESSOR,(function(l){return[l]}),[m.SelectControlValueAccessor]),t["\u0275did"](42,671744,null,0,m.NgModel,[[2,m.ControlContainer],[8,null],[8,null],[6,m.NG_VALUE_ACCESSOR]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),t["\u0275prd"](2048,null,m.NgControl,null,[m.NgModel]),t["\u0275did"](44,16384,null,0,m.NgControlStatus,[[4,m.NgControl]],null,null),(l()(),t["\u0275eld"](45,0,null,null,3,"option",[],null,null,null,null,null)),t["\u0275did"](46,147456,null,0,m.NgSelectOption,[t.ElementRef,t.Renderer2,[2,m.SelectControlValueAccessor]],{ngValue:[0,"ngValue"]},null),t["\u0275did"](47,147456,null,0,m["\u0275angular_packages_forms_forms_y"],[t.ElementRef,t.Renderer2,[8,null]],{ngValue:[0,"ngValue"]},null),(l()(),t["\u0275ted"](-1,null,["Selecione..."])),(l()(),t["\u0275eld"](49,0,null,null,3,"option",[],null,null,null,null,null)),t["\u0275did"](50,147456,null,0,m.NgSelectOption,[t.ElementRef,t.Renderer2,[2,m.SelectControlValueAccessor]],{ngValue:[0,"ngValue"]},null),t["\u0275did"](51,147456,null,0,m["\u0275angular_packages_forms_forms_y"],[t.ElementRef,t.Renderer2,[8,null]],{ngValue:[0,"ngValue"]},null),(l()(),t["\u0275ted"](-1,null,["Ativo"])),(l()(),t["\u0275eld"](53,0,null,null,3,"option",[],null,null,null,null,null)),t["\u0275did"](54,147456,null,0,m.NgSelectOption,[t.ElementRef,t.Renderer2,[2,m.SelectControlValueAccessor]],{ngValue:[0,"ngValue"]},null),t["\u0275did"](55,147456,null,0,m["\u0275angular_packages_forms_forms_y"],[t.ElementRef,t.Renderer2,[8,null]],{ngValue:[0,"ngValue"]},null),(l()(),t["\u0275ted"](-1,null,["Inativo"])),(l()(),t["\u0275eld"](57,0,null,null,5,"app-card-footer",[],null,null,null,C.b,C.a)),t["\u0275did"](58,114688,null,0,O.a,[],null,null),(l()(),t["\u0275eld"](59,0,null,0,1,"button",[["class","btn btn-secondary mr-2"],["type","button"]],null,[[null,"click"]],(function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.limparFiltro()&&t),t}),null,null)),(l()(),t["\u0275ted"](-1,null,["Limpar"])),(l()(),t["\u0275eld"](61,0,null,0,1,"button",[["class","btn btn-primary"],["type","button"]],null,[[null,"click"]],(function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.pesquisar()&&t),t}),null,null)),(l()(),t["\u0275ted"](-1,null,["Pesquisar"])),(l()(),t["\u0275and"](16777216,null,null,2,null,pn)),t["\u0275did"](64,16384,null,0,r.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),t["\u0275pid"](131072,r.AsyncPipe,[t.ChangeDetectorRef]),(l()(),t["\u0275eld"](66,0,null,null,1,"app-perfil-novo",[],null,null,null,L,q)),t["\u0275did"](67,114688,[["perfilNovo",4]],0,z,[F.o],null,null),(l()(),t["\u0275eld"](68,0,null,null,1,"app-perfil-status",[],null,null,null,K,G)),t["\u0275did"](69,114688,[["perfilStatus",4]],0,B,[F.o],null,null),(l()(),t["\u0275eld"](70,0,null,null,1,"app-perfil-funcionalidade",[],null,null,null,ql,Fl)),t["\u0275did"](71,114688,[["perfilFuncionalidade",4]],0,Vl,[F.o],null,null)],(function(l,n){var e=n.component;l(n,3,0),l(n,5,0,"Pesquisar Perfil"),l(n,15,0),l(n,23,0,"nome",e.filtro.nome),l(n,30,0,"w-100","dataCadastro","form-control","Data cadastro","dd/mm/yy","true","true","1900:2100",e.pt),l(n,33,0,"dataCadastro",e.filtro.dataCadastro),l(n,42,0,"status",e.filtro.status),l(n,46,0,void 0),l(n,47,0,void 0),l(n,50,0,e.status.ATIVO),l(n,51,0,e.status.ATIVO),l(n,54,0,e.status.INATIVO),l(n,55,0,e.status.INATIVO),l(n,58,0),l(n,64,0,t["\u0275unv"](n,64,0,t["\u0275nov"](n,65).transform(e.totalRecords$))),l(n,67,0),l(n,69,0),l(n,71,0)}),(function(l,n){var e=n.component;l(n,6,0,!t["\u0275unv"](n,6,0,t["\u0275nov"](n,7).transform(e.permiteFuncionalidadeAcao(e.funcionalidadeEnum.PERFIL_USUARIO,e.acaoEnum.INCLUIR)))),l(n,9,0,t["\u0275nov"](n,13).ngClassUntouched,t["\u0275nov"](n,13).ngClassTouched,t["\u0275nov"](n,13).ngClassPristine,t["\u0275nov"](n,13).ngClassDirty,t["\u0275nov"](n,13).ngClassValid,t["\u0275nov"](n,13).ngClassInvalid,t["\u0275nov"](n,13).ngClassPending),l(n,20,0,t["\u0275nov"](n,25).ngClassUntouched,t["\u0275nov"](n,25).ngClassTouched,t["\u0275nov"](n,25).ngClassPristine,t["\u0275nov"](n,25).ngClassDirty,t["\u0275nov"](n,25).ngClassValid,t["\u0275nov"](n,25).ngClassInvalid,t["\u0275nov"](n,25).ngClassPending),l(n,29,0,t["\u0275nov"](n,30).filled,t["\u0275nov"](n,30).focus,t["\u0275nov"](n,35).ngClassUntouched,t["\u0275nov"](n,35).ngClassTouched,t["\u0275nov"](n,35).ngClassPristine,t["\u0275nov"](n,35).ngClassDirty,t["\u0275nov"](n,35).ngClassValid,t["\u0275nov"](n,35).ngClassInvalid,t["\u0275nov"](n,35).ngClassPending),l(n,39,0,t["\u0275nov"](n,44).ngClassUntouched,t["\u0275nov"](n,44).ngClassTouched,t["\u0275nov"](n,44).ngClassPristine,t["\u0275nov"](n,44).ngClassDirty,t["\u0275nov"](n,44).ngClassValid,t["\u0275nov"](n,44).ngClassInvalid,t["\u0275nov"](n,44).ngClassPending)}))}function gn(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"app-perfil",[],null,null,null,fn,en)),t["\u0275did"](1,245760,null,0,nn,[F.o],null,null)],(function(l,n){l(n,1,0)}),null)}var vn=t["\u0275ccf"]("app-perfil",nn,gn,{},{},[]),mn=e("oTug"),hn=e("Wbmx"),bn=e("iInd");class Cn{}var On=e("VSng"),An=e("IP0z"),Sn=e("/HVE"),In=e("hOhj"),jn=e("g4HV"),Rn=e("nciF"),yn=e("mU/a");const Nn=Object($l.a)(),Vn=Nn.getInitialState({filter:void 0,count:0,page:void 0,sort:void 0,pagesRegs:[],entities:[],funcionalidades:void 0,acoes:void 0}),Fn=Object(F.x)(Vn,Object(F.A)(W,(l,{funcionalidades:n})=>Object.assign({},l,{funcionalidades:n||l.funcionalidades})),Object(F.A)(X,(l,{acoes:n})=>Object.assign({},l,{acoes:n})),Object(F.A)(nl,(l,{filter:n,count:e})=>Object.assign({},Vn,{filter:n,count:e,funcionalidades:l.funcionalidades,acoes:l.acoes})),Object(F.A)(el,l=>Object.assign({},Vn)),Object(F.A)(ul,(l,{perfisFuncionalidadesAcoes:n,page:e,sort:t})=>{const u={page:e.first,registros:n.map(l=>l.id)};return l.sort&&t.field===l.sort.field&&t.order===l.sort.order?Nn.addMany(n,Object.assign({},l,{page:e,sort:t,pagesRegs:l.pagesRegs.find(l=>l.page===e.first)?[...l.pagesRegs]:[...l.pagesRegs,u]})):Nn.addAll(n,Object.assign({},l,{page:e,sort:t,pagesRegs:[u]}))}),Object(F.A)(ol,(l,{perfis:n})=>{const e=l.acoes.filter(l=>0===n.filter(n=>n.funcionalidadeAcao.id.idAcao===l.id).length);return Object.assign({},l,{acoes:e,count:l.count+n.length,pagesRegs:[]})}),Object(F.A)(sl,(l,{id:n,status:e})=>Nn.updateOne({id:n,changes:Object.assign({},l.entities[n],{status:e})},l)));function Pn(l,n){return Fn(l,n)}Nn.getSelectors();var Tn=e("LHhI"),_n=e("Yml6"),En=e("5+tZ"),kn=e("lJxs"),Mn=e("JIr8"),wn=e("vkgz"),Dn=e("zp1y"),Un=e("eIep"),xn=e("LRne");class zn extends Tn.a{constructor(l,n,e,t){super(),this.action$=l,this.store=n,this.perfilService=e,this.funcionalidadeService=t,this.countPerfil$=Object(_n.d)(()=>this.action$.pipe(Object(_n.e)(P),Object(En.a)(l=>this.perfilService.count(l.filter).pipe(Object(kn.a)(n=>T({filter:l.filter,count:n,afterCount:l.afterCount})),Object(Mn.a)(l=>(super.addMessageError(l),Object(xn.a)(_()))))))),this.countPerfilSucesso$=Object(_n.d)(()=>this.action$.pipe(Object(_n.e)(T),Object(wn.a)(l=>l.afterCount())),{dispatch:!1}),this.pesquisarPerfil$=Object(_n.d)(()=>this.action$.pipe(Object(_n.e)(E),Object(kn.a)(l=>({page:l.page,sort:l.sort})),Object(En.a)(l=>Object(xn.a)(l).pipe(Object(Dn.a)(this.store.pipe(Object(F.C)(Xl(l.page,l.sort))),this.store.pipe(Object(F.C)(Kl))))),Object(Un.a)(([l,n,e])=>0===n.length?this.perfilService.pesquisar(this.getPageSort(e,l.page,l.sort)).pipe(Object(kn.a)(n=>k({perfis:n,page:l.page,sort:l.sort})),Object(Mn.a)(l=>(super.addMessageError(l),Object(xn.a)(M())))):Object(xn.a)(k({perfis:n,page:l.page,sort:l.sort}))))),this.salvarPerfil$=Object(_n.d)(()=>this.action$.pipe(Object(_n.e)(w),Object(En.a)(l=>{const n=void 0===l.perfil.id;return this.perfilService.salvar(l.perfil).pipe(Object(kn.a)(e=>(l.afterSave(),D({perfil:e,insert:n}))),Object(Mn.a)(l=>{throw super.addMessageError(l),l}))}))),this.atualizarStatus$=Object(_n.d)(()=>this.action$.pipe(Object(_n.e)(U),Object(En.a)(l=>{const n=new N.a;return n.id=l.id,n.status=l.status,this.perfilService.atualizarStatus(n).pipe(Object(kn.a)(n=>(l.afterSave(),x({id:l.id,status:l.status}))),Object(Mn.a)(l=>{throw super.addMessageError(l),l}))})))}}var qn=e("Gndo"),$n=e("IheW");let Ln=(()=>{class l{constructor(l){this.http=l,this.salvarUrl=qn.a.getUrlBackend()+"/api/perfil",this.countUrl=qn.a.getUrlBackend()+"/api/perfil/count",this.pesquisarUrl=qn.a.getUrlBackend()+"/api/perfil/pesquisar",this.recuperarPorIdUrl=qn.a.getUrlBackend()+"/api/perfil/",this.atualizarStatusUrl=qn.a.getUrlBackend()+"/api/perfil/atualizarStatus",this.recuperarPorTipoStatusUrl=qn.a.getUrlBackend()+"/api/perfil"}salvar(l){return this.http.post(this.salvarUrl,l).pipe(Object(wn.a)(l=>(this.tratarDatas(l),l)))}count(l){return this.http.post(this.countUrl,l).pipe(Object(wn.a)(l=>l))}pesquisar(l){return this.http.post(this.pesquisarUrl,l).pipe(Object(wn.a)(l=>{for(const n of l)this.tratarDatas(n);return l}))}recuperarPorId(l){return this.http.get(this.recuperarPorIdUrl+l).pipe(Object(wn.a)(l=>(this.tratarDatas(l),l)))}tratarDatas(l){l.dataCadastro&&(l.dataCadastro=new Date(l.dataCadastro)),l.dataAtualizacao&&(l.dataAtualizacao=new Date(l.dataAtualizacao))}atualizarStatus(l){return this.http.post(this.atualizarStatusUrl,l)}}return l.ngInjectableDef=t["\u0275\u0275defineInjectable"]({factory:function(){return new l(t["\u0275\u0275inject"]($n.c))},token:l,providedIn:"root"}),l})(),Bn=(()=>{class l{constructor(l){this.http=l,this.listarAtivasUrl=qn.a.getUrlBackend()+"/api/funcionalidade/ativas"}listarAtivas(){return this.http.get(this.listarAtivasUrl).pipe(Object(wn.a)(l=>l))}}return l.ngInjectableDef=t["\u0275\u0275defineInjectable"]({factory:function(){return new l(t["\u0275\u0275inject"]($n.c))},token:l,providedIn:"root"}),l})();class Gn extends Tn.a{constructor(l,n,e,t){super(),this.action$=l,this.store=n,this.perfilFuncionalidadeAcaoService=e,this.funcionalidadeService=t,this.recuperarFuncionalidadesAtivas$=Object(_n.d)(()=>this.action$.pipe(Object(_n.e)(Z),Object(Dn.a)(this.store.select(hl)),Object(En.a)(([l,n])=>n?Object(xn.a)(W({funcionalidades:void 0})):this.funcionalidadeService.listarAtivas().pipe(Object(kn.a)(l=>W({funcionalidades:l})),Object(Mn.a)(l=>{throw super.addMessageError(l),l}))))),this.recuperarAcoesNaoVinculadas$=Object(_n.d)(()=>this.action$.pipe(Object(_n.e)(Y),Object(En.a)(l=>this.perfilFuncionalidadeAcaoService.recperarAcoesNaoVinculadas(l.idPerfil,l.idFuncionalidade).pipe(Object(kn.a)(l=>X({acoes:l})),Object(Mn.a)(l=>{throw super.addMessageError(l),l}))))),this.countPerfil$=Object(_n.d)(()=>this.action$.pipe(Object(_n.e)(ll),Object(En.a)(l=>this.perfilFuncionalidadeAcaoService.count(l.filter).pipe(Object(kn.a)(n=>nl({filter:l.filter,count:n,afterCount:l.afterCount})),Object(Mn.a)(l=>(super.addMessageError(l),Object(xn.a)(el()))))))),this.countPerfilSucesso$=Object(_n.d)(()=>this.action$.pipe(Object(_n.e)(nl),Object(wn.a)(l=>l.afterCount())),{dispatch:!1}),this.pesquisarPerfil$=Object(_n.d)(()=>this.action$.pipe(Object(_n.e)(tl),Object(kn.a)(l=>({page:l.page,sort:l.sort})),Object(En.a)(l=>Object(xn.a)(l).pipe(Object(Dn.a)(this.store.pipe(Object(F.C)(Il(l.page,l.sort))),this.store.pipe(Object(F.C)(Cl))))),Object(Un.a)(([l,n,e])=>0===n.length?this.perfilFuncionalidadeAcaoService.pesquisar(this.getPageSort(e,l.page,l.sort)).pipe(Object(kn.a)(n=>ul({perfisFuncionalidadesAcoes:n,page:l.page,sort:l.sort})),Object(Mn.a)(l=>(super.addMessageError(l),Object(xn.a)(al())))):Object(xn.a)(ul({perfisFuncionalidadesAcoes:n,page:l.page,sort:l.sort}))))),this.salvarPerfilFuncionalidadeAcao$=Object(_n.d)(()=>this.action$.pipe(Object(_n.e)(il),Object(En.a)(l=>this.perfilFuncionalidadeAcaoService.salvar(l.perfis).pipe(Object(kn.a)(n=>ol({perfis:n,afterSave:l.afterSave})),Object(Mn.a)(l=>{throw super.addMessageError(l),l}))))),this.salvarPerfilFuncionalidadeAcaoSucesso$=Object(_n.d)(()=>this.action$.pipe(Object(_n.e)(ol),Object(wn.a)(l=>l.afterSave())),{dispatch:!1}),this.atualizarStatus$=Object(_n.d)(()=>this.action$.pipe(Object(_n.e)(rl),Object(En.a)(l=>{const n=new jl;return n.id=l.id,n.status=l.status,this.perfilFuncionalidadeAcaoService.atualizarStatus(n).pipe(Object(kn.a)(n=>(l.afterSave(),sl({id:l.id,status:l.status}))),Object(Mn.a)(l=>{throw super.addMessageError(l),l}))})))}}let Hn=(()=>{class l{constructor(l){this.http=l,this.salvarUrl=qn.a.getUrlBackend()+"/api/perfilFuncionalidadeAcao",this.countUrl=qn.a.getUrlBackend()+"/api/perfilFuncionalidadeAcao/count",this.pesquisarUrl=qn.a.getUrlBackend()+"/api/perfilFuncionalidadeAcao/pesquisar",this.atualizarStatusUrl=qn.a.getUrlBackend()+"/api/perfilFuncionalidadeAcao/atualizarStatus",this.recuperarAcoesNaoVinculadasUrl=qn.a.getUrlBackend()+"/api/perfilFuncionalidadeAcao/"}salvar(l){return this.http.post(this.salvarUrl,l).pipe(Object(wn.a)(l=>(l.forEach(l=>this.tratarDatas(l)),l)))}count(l){return this.http.post(this.countUrl,l).pipe(Object(wn.a)(l=>l))}pesquisar(l){return this.http.post(this.pesquisarUrl,l).pipe(Object(wn.a)(l=>(l.forEach(l=>this.tratarDatas(l)),l)))}recperarAcoesNaoVinculadas(l,n){return this.http.get(this.recuperarAcoesNaoVinculadasUrl+l+"/funcionalidade/"+n+"/acoes-nao-vinculadas").pipe(Object(wn.a)(l=>l))}tratarDatas(l){l.dataCadastro&&(l.dataCadastro=new Date(l.dataCadastro))}atualizarStatus(l){return this.http.post(this.atualizarStatusUrl,l)}}return l.ngInjectableDef=t["\u0275\u0275defineInjectable"]({factory:function(){return new l(t["\u0275\u0275inject"]($n.c))},token:l,providedIn:"root"}),l})();e.d(n,"PerfilModuleNgFactory",(function(){return Qn}));var Qn=t["\u0275cmf"](u,[],(function(l){return t["\u0275mod"]([t["\u0275mpd"](512,t.ComponentFactoryResolver,t["\u0275CodegenComponentFactoryResolver"],[[8,[a.a,vn]],[3,t.ComponentFactoryResolver],t.NgModuleRef]),t["\u0275mpd"](4608,m["\u0275angular_packages_forms_forms_o"],m["\u0275angular_packages_forms_forms_o"],[]),t["\u0275mpd"](4608,r.NgLocalization,r.NgLocaleLocalization,[t.LOCALE_ID,[2,r["\u0275angular_packages_common_common_a"]]]),t["\u0275mpd"](1073742336,m["\u0275angular_packages_forms_forms_d"],m["\u0275angular_packages_forms_forms_d"],[]),t["\u0275mpd"](1073742336,m.FormsModule,m.FormsModule,[]),t["\u0275mpd"](1073742336,r.CommonModule,r.CommonModule,[]),t["\u0275mpd"](1073742336,mn.a,mn.a,[]),t["\u0275mpd"](1073742336,hn.a,hn.a,[]),t["\u0275mpd"](1073742336,bn.n,bn.n,[[2,bn.s],[2,bn.k]]),t["\u0275mpd"](1073742336,Cn,Cn,[]),t["\u0275mpd"](1073742336,On.ButtonModule,On.ButtonModule,[]),t["\u0275mpd"](1073742336,v.SharedModule,v.SharedModule,[]),t["\u0275mpd"](1073742336,b.CalendarModule,b.CalendarModule,[]),t["\u0275mpd"](1073742336,An.a,An.a,[]),t["\u0275mpd"](1073742336,Sn.b,Sn.b,[]),t["\u0275mpd"](1073742336,In.ScrollingModule,In.ScrollingModule,[]),t["\u0275mpd"](1073742336,jn.TooltipModule,jn.TooltipModule,[]),t["\u0275mpd"](1073742336,Rn.DropdownModule,Rn.DropdownModule,[]),t["\u0275mpd"](1073742336,yn.PaginatorModule,yn.PaginatorModule,[]),t["\u0275mpd"](1073742336,i.TableModule,i.TableModule,[]),t["\u0275mpd"](1024,F.I,(function(){return[{},{}]}),[]),t["\u0275mpd"](1024,F.k,(function(){return[{key:"perfis",reducerFactory:F.t,metaReducers:[],initialState:void 0},{key:"perfisFuncionalidades",reducerFactory:F.t,metaReducers:[],initialState:void 0}]}),[]),t["\u0275mpd"](1024,F.J,F.P,[t.Injector,F.I,F.k]),t["\u0275mpd"](1024,F.H,(function(){return[Hl,Pn]}),[]),t["\u0275mpd"](1024,F.K,(function(l,n){return[l,n]}),[F.H,F.H]),t["\u0275mpd"](1024,F.b,(function(l,n,e,t,u,a){return[F.Q(l,n,e),F.Q(t,u,a)]}),[t.Injector,F.H,F.K,t.Injector,F.H,F.K]),t["\u0275mpd"](1073873408,F.p,F.p,[F.J,F.b,F.h,F.q]),t["\u0275mpd"](512,zn,zn,[_n.a,F.o,Ln,Bn]),t["\u0275mpd"](512,Gn,Gn,[_n.a,F.o,Hn,Bn]),t["\u0275mpd"](1024,_n.j,(function(l,n){return[_n.f(l,n)]}),[zn,Gn]),t["\u0275mpd"](1073742336,_n.h,_n.h,[_n.g,_n.j,[2,F.q],[2,F.p]]),t["\u0275mpd"](1073742336,u,u,[]),t["\u0275mpd"](1024,bn.i,(function(){return[[{path:"",component:nn}]]}),[])])}))},LHhI:function(l,n,e){"use strict";e.d(n,"a",(function(){return o}));var t=e("GUC0"),u=e.n(t),a=e("3CEA"),i=e("gtzJ");a.a({dsn:"http://eca5bac990c64256a6d9e001f7a39c3a@178.238.235.110:9080/2"});class o{addMessageSuccess(l){u()({text:l,icon:"success",buttons:["Fechar",!1]})}addMessageWarning(l){u()({text:l,icon:"warning",buttons:["Fechar",!1]})}addMessageError(l){let n;if(i.a(l.originalError||l),l&&l.hasOwnProperty("error")){const e=l.error;e&&e.hasOwnProperty("message")&&(n=e.message)}n||(n="Erro Inesperado!"),u()({text:n,icon:"error",buttons:["Fechar",!1]})}getPageSort(l,n,e){return{filter:l,first:n.first,pageSize:n.max,sortField:e?e.field:void 0,sortOrder:e?e.order:void 0}}}},gC8l:function(l,n,e){"use strict";e.d(n,"a",(function(){return t}));var t=function(l){return l[l.ATIVO=1]="ATIVO",l[l.INATIVO=2]="INATIVO",l}({})}}]);